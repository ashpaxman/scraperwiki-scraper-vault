import scraperwiki
import lxml.html
c=['brasil','usa','mexico','venezuela','argentina','colombia','chile','peru','puerto_rico','panama','elsalvador','uruguay','guatemala','ecuador','nicaragua','bolivia','trinidad_and_tobago','curacao','surinam','sint_maarten','dominica','us_virgin_islands','bonaire','british_caribbean_islands','turks_and_caicos_islands','british_virgin_islands','martinique','saint_kitts_and_nevis','sint_eustatius','saint_martin','saint_vincent_and_grenadines','saint_barth','barbados','aruba','bahamas','paraguay','saba']
d=17
b=0
while d != 18:
    a=[8,2908,74,186,192,234,323,436,1320,637,695,886,1003,1020,1047,1053,1219,1260,1275,1321,1324,1325,1326,1327,1444,1467,1491,1492,1508,1561,1598,1630,2039,2128,2155,104,2769,2261,2447,2707,2367,456,2378,2371,2746,77,107,108,109,110,111,112,113,114,115,116,1977,118,212,331,358,368,2891,386,391,452,523,580,589,596,653,669,672,673,674,698,702,704,804,882,2434,1255,1256,1258,1272,1295,1349,1350,1352,1353,1371,1401,1608,1719,1775,1798,1941,1944,1956,1957,1994,1995,1997,2002,2032,2119,2138,2159,2169,2170,2225,2335,2916,2368,2369,2370,2372,2373,2373,2374,2375,2381,2376,2377,2379,2380,2382,2383,2384,2385,2386,2387,2388,2435,2441,2482,2770,2781,2800,2808,2086,33,61,165,190,203,272,273,274,275,276,277,2517,712,278,279,280,281,282,1494,1629,283,1427,284,2279,285,2439,286,2461,287,288,289,290,291,292,794,293,271,306,587,2928,1869,2197,2932,1936,2337,2929,2669,1507,22,20,2848,40,42,29,93,103,117,161,314,315,366,389,430,432,438,451,490,520,531,835,614,738,845,931,950,1014,1158,1121,1184,1207,1208,1209,1211,1251,1266,1284,1293,1332,1515,1518,1520,1590,1592,1623,1663,1829,793,1978,2059,2210,2229,2233,2250,2260,2286,2290,2307,2314,2322,2340,2342,2344,2350,2352,2356,2401,2453,2492,2498,2558,2561,2664,2742,2817,1831,1832,65,86,457,316,317,319,320,342,344,396,541,675,729,736,740,763,764,1191,1197,1212,1225,1281,1307,1422,1500,1509,378,2147,2460,2189,2579,129,125,318,375,185,1247,1463,2185,2359,2360,2749,2815,1910,60,2923,632,666,2943,1609,2192,122,243,462,559,603,664,1038,1220,1380,1536,1542,1774,2870,2267,2280,2285,2813,15,148,177,343,483,485,552,564,630,652,667,682,684,730,846,855,892,987,988,1313,2321,1437,2790,1506,1543,1818,1950,1951,1953,2194,2244,2254,2456,2522,2580,2534,2793,63,433,441,453,557,2612,685,741,742,744,848,1012,1044,2604,1051,2326,1770,1795,1893,2028,2230,2231,1423,2258,2327,477,2605,2616,2606,2608,2609,2611,2613,2617,2657,2716,2073,41,49,72,156,170,267,294,333,356,388,390,447,466,527,529,542,544,555,578,600,2212,703,707,708,2909,735,805,866,867,868,893,1042,1057,1140,1141,1227,1294,1302,1330,1357,689,1473,1475,1478,1538,1550,1564,1621,1648,1660,1672,1722,1739,1738,1790,1791,1792,1811,1821,1839,887,1993,2001,2068,291,2069,2070,2071,2074,2076,2077,2078,2079,2080,2081,2082,2126,2140,2143,2206,2207,2208,2211,1562,706,2396,2508,2570,2585,2587,2588,2589,2590,2591,2592,2593,2594,2595,2596,2597,2708,2868,2747,2799,2801,2802,1825,131,191,2835,241,245,295,374,380,393,435,503,2859,526,532,1310,643,809,810,1024,2944,1069,1074,1076,1087,1088,1101,1102,1103,1106,1107,1108,1109,1201,1304,1305,2886,376,1747,1778,1873,1879,1894,1979,1983,1998,2012,2874,2083,2910,377,2620,2711,12,13,187,372,394,508,563,1495,1513,657,658,659,2924,785,786,787,789,790,788,843,900,901,902,817,1503,2837,1015,1065,1066,1067,1068,1070,1071,414,1072,1073,1075,2586,1077,1079,1080,1081,1082,1083,1084,1085,1086,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1104,1105,1145,1342,1479,1480,1481,334,1497,1530,1552,1607,1732,1930,2137,2153,2177,2178,2179,2180,2181,2182,2515,2636,2744,2748,84,88,227,228,443,444,445,446,579,665,677,693,715,725,726,727,818,829,910,919,920,930,916,990,992,1120,1192,1249,1259,1267,1356,1376,1436,1442,1443,1471,1474,1486,796,1496,795,1634,1664,917,1665,1733,1763,1820,1833,1881,1984,2050,2065,2092,2187,2209,2255,2263,2272,2338,691,2363,601,2454,2474,2505,1767,2513,2539,2550,2551,2552,2553,2626,2632,2717,2765,1419,2252,55,95,133,2830,146,173,188,2890,238,239,181,262,379,468,489,494,495,498,547,565,568,574,644,670,2833,799,861,2895,1152,1199,1200,2942,1528,1529,1532,1533,1534,1541,1641,1871,2003,2052,2066,2248,2249,2395,2945,2427,2433,2436,2477,2646,2668,502,9028,11,16,17,18,19,21,85,89,90,219,220,221,2856,359,361,412,425,426,429,442,463,504,2275,583,584,888,889,1055,1056,1117,2844,1173,1174,1188,1355,1358,1359,1360,2142,1361,1362,1363,1364,1366,1636,1650,1651,1653,1656,1721,1789,2054,2060,2061,2136,2946,2148,2188,2271,2364,2403,2405,2472,2491,2536,2537,2736,2776,2777,2820,2540,45,1632,96,154,686,298,297,296,2839,2933,482,2926,2919,1185,1224,1262,2836,2857,1505,1892,2927,2915,2925,1924,784,1714,2398,2488,2506,34,50,51,2922,81,91,92,2911,102,124,2097,180,193,215,2125,244,248,266,299,321,387,424,471,640,641,642,2885,650,656,746,756,757,767,773,797,801,854,865,912,913,1010,1036,1127,1128,1146,1154,1155,1156,1157,1175,1196,1210,1248,1279,1329,2947,1389,1393,1407,1524,1578,1583,1594,1597,1610,1701,1729,1776,1777,1779,1804,2914,1842,1843,1844,1845,1846,1847,1848,1849,1850,1851,1852,1854,1855,1856,1857,1858,1859,1860,1861,1862,1863,1864,1865,1866,1867,1269,1914,1927,2004,2033,2089,2095,2104,1887,2277,2400,2442,2450,2452,2494,2496,2497,2501,2521,2532,2639,2640,1348,2662,2753,2773,2775,2779,260,168,561,2035,566,569,1382,1383,1405,1406,1899,52,668,1159,1160,1161,1162,1163,1164,1166,1167,1168,1169,1170,1171,1165,1415,1469,23,25,32,2828,70,76,200,332,371,509,510,512,513,514,549,577,639,660,661,662,819,862,881,915,1111,1112,1273,1274,1283,1286,1289,1354,1369,1372,1413,1522,833,1890,1891,1938,1939,1980,2058,2062,2103,2112,2113,2114,2115,2116,2117,2121,2162,2173,2242,2408,2430,2431,2493,2520,2544,2641,2642,2647,2740,1288,9,2847,26,27,30,31,38,87,688,647,178,179,218,222,229,2871,256,1374,258,349,362,2568,363,364,370,499,506,511,530,576,593,602,606,607,609,611,766,778,875,914,954,958,959,1118,1119,1189,1193,1194,1178,1206,1218,1285,1339,1384,1385,1410,1483,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1579,1580,1581,1582,1589,1600,1605,1611,1633,1639,2898,1645,1646,1647,1649,1735,1737,1742,1731,1745,1809,1889,2008,2011,2017,2018,2019,2020,155,2654,2048,2111,2253,2262,2282,2284,2339,2343,2362,2404,2406,2426,2455,2464,2465,2466,2468,2545,2571,2572,2576,2627,2631,2670,2719,2720,2720,2721,2722,2723,2724,2725,2726,2727,2728,2729,2730,2731,2732,2733,2734,2737,2756,2757,2759,2760,2761,2763,2803,216,270,2894,413,528,581,585,2950,728,932,935,1125,2880,2936,2864,1139,2883,2877,2093,2893,2503,2652,2873,2881,2865,2939,2876,2949,1429,1430,1462,1516,1517,1567,1670,1673,1730,2846,1784,1786,1806,1921,1996,99,2358,2446,2882,2556,2559,2628,2887,56,59,62,64,68,174,259,327,328,329,330,419,472,493,548,605,859,870,897,2399,898,899,1059,1116,1148,1149,1150,1202,1235,1238,1242,1309,2907,1411,214,1417,1418,1432,2246,1557,1565,1734,1741,1743,1772,1773,1794,1876,2016,2107,2150,304,2183,2203,2204,2201,2463,2473,2476,2574,2577,2578,2714,2754,2797,2796,365,718,966,967,1424,1438,1546,1549,1554,1787,2701,2361,2702,2245,2855,2825,1626,783,1114,2951,1263,1301,1319,1322,2952,1780,1781,1800,1801,1853,2106,39,175,224,225,240,246,2888,525,534,543,554,588,594,610,2913,648,731,739,771,827,2838,1537,1587,546,1643,1671,1769,1799,1803,1501,1946,1988,2712,2015,2031,2087,2191,2428,2429,2470,2270,2581,2643,2645,2784,2827,37,137,162,213,236,242,560,604,678,850,1144,1271,1312,1487,1540,1622,1716,1736,1872,1874,1875,1877,1922,1926,1928,1987,2044,2053,2056,2057,2064,2156,2283,3000,2365,2366,2402,2533,2564,2565,2584,2755,2798,123,1223,235,398,400,458,460,461,500,537,538,539,551,936,937,938,939,940,941,942,943,944,947,948,949,951,952,953,960,962,977,978,979,980,981,982,983,1136,1142,1153,1228,1234,1404,1606,1713,1947,1958,1959,1960,1961,1962,1963,1964,1965,1966,1967,1968,1969,1971,2026,2099,2101,2165,2166,2407,2516,2549,2735,2766,2767,2768,2098,663,840,1016,1021,1040,1123,2892,1913,2022,2042,2043,2906,2486,1439,2,3,4,5,6,7,44,46,201,207,208,209,305,722,476,709,710,717,720,826,2519,2851,968,1110,1204,2872,1298,1300,2860,1403,1451,1452,1453,1454,1456,1457,1458,1459,1460,1461,1504,1771,1827,1878,2029,2055,2176,2195,2523,2034,2653,2785,2806,1489,536,149,223,231,249,251,255,385,1824,418,420,467,491,590,696,732,853,1124,1126,1270,1311,1338,1351,1527,1807,1937,1955,1981,2049,2108,2123,2146,2409,2411,2412,2862,2413,2422,2414,2415,2416,2418,2419,2420,2421,2423,2424,2425,2443,2531,2648,2650,2782,2783,478,479,480,2823,36,135,171,230,233,247,250,257,254,263,301,302,303,335,346,383,417,481,486,488,501,516,517,553,1177,562,567,570,571,572,573,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,631,635,636,2145,761,762,806,815,816,841,879,884,885,894,963,964,969,849,996,997,999,1000,1013,1025,1029,1045,1052,834,1131,1137,1205,1217,1226,1292,1296,1303,1306,1387,1395,1414,1464,1468,1482,1493,1547,1548,1551,1555,1556,883,1558,1559,1560,1602,1603,1604,1652,1726,1727,1728,1749,1751,1752,1753,2896,1754,1755,1756,1757,1758,1761,1762,1823,1880,1882,1884,1885,1886,1895,1896,1900,1902,1903,1904,1905,1911,1912,1917,1919,1929,1931,1932,1933,1934,1935,1940,2005,2006,2013,2014,2900,2025,2030,2094,2151,2160,2161,2164,2167,2174,2163,2842,2199,2200,2227,2232,2236,2274,2394,2432,2437,2444,2484,2495,2621,2622,2623,2624,2625,2703,100,2704,2705,1129,2750,2751,2752,2809,808,1760,35,78,80,97,98,1043,1765,1766,2221,2105,2834,43,1388,47,54,67,83,126,2829,2899,134,138,142,150,151,153,166,195,196,268,269,2861,309,337,382,431,519,2869,646,723,753,754,755,1390,769,814,821,823,836,837,838,842,2937,2091,858,860,878,956,925,2920,1236,1244,1245,1246,1264,1265,1314,1315,1316,1343,1408,1412,1434,1440,1441,1445,1446,1447,1448,1449,1470,1472,2256,1512,1476,1477,1499,1511,1514,2854,1553,1591,1593,1595,1615,1616,1617,1596,423,1657,2780,1659,1666,1667,1668,1817,1888,1909,1923,1925,2478,2024,2110,2215,2219,2291,2323,2295,2298,2300,2299,2301,2897,2304,2308,2309,2310,2311,2312,2315,634,2319,2321,2324,2329,2331,2332,2320,2333,2336,2457,2459,2479,2480,2481,1297,2930,2134,721,1658,2487,2858,2507,2509,1299,2510,2514,2524,2525,2526,2527,2528,2566,2560,2562,2563,2696,2666,2667,2673,2904,2706,2794,2804,1746,2850,612,697,733,1344,791,1724,1198,1377,1378,1631,1655,2598,1948,782,2542,2575,2599,2600,2601,2602,2603,2635,2644,1379,58,69,120,158,324,690,322,719,926,2878,2853,53,1793,1841,1915,1916,2037,2205,2849,961,1840,2583,2633,2675,2678,2679,2680,2681,2875,2683,2036,2684,2685,2686,1992,2687,2688,2689,2691,2692,2693,2694,2676,2698,2824,66,127,144,2831,184,595,540,772,851,880,1187,1394,1396,1397,1400,1826,2483,2485,2917,2547,2695,2867,94,130,132,147,140,141,143,145,2440,307,310,345,348,1720,404,405,401,406,407,408,439,440,470,473,649,676,679,680,681,699,747,750,751,752,633,824,825,830,831,832,976,2940,985,989,993,994,998,1001,82,1006,1007,724,1018,1019,1026,1028,1032,1033,1037,1039,1041,1046,1048,1049,2629,1054,2889,1151,1222,1250,1252,1254,2852,1331,1333,1367,1370,1391,1392,1425,1484,1566,1584,1676,1677,1679,1685,1688,1689,1697,1691,1692,1695,1681,1696,1678,1680,1682,1687,1690,1693,1694,1002,1698,1699,1700,1702,1703,1704,1705,1706,1707,1708,1709,1008,1563,106,1711,1764,1797,1814,1815,1819,1822,1828,1122,1835,1837,1838,1920,1954,2023,1368,2217,2222,2223,2224,2241,2251,2259,2341,2345,2346,2347,2351,2348,2354,2349,2353,2355,2357,2449,2448,2462,2511,2512,2557,2656,2658,2659,2663,2672,2713,2741,2764,2778,2818,237,253,264,338,465,2269,865,1050,2903,2841,308,2220,2475,2499,2500,2582,2840]
    titulo=str
    while b != 2324: 
        html = scraperwiki.scrape("http://amerpages.com/spa/"+str(c[d])+"/items/search/category:"+str(a[b]))
        root = lxml.html.fromstring(html)
        for el in root.cssselect("div.resultsInfo strong"):
            if el.text != 'Ordenar por:':
                categoria=int(el.text)
        f=html.count('listing featured')
        for el in root.cssselect("h1.mainTitle"):
            titulo=el.text
        scraperwiki.sqlite.save(unique_keys=['orden'],data={'orden':b,'featured':f,'categoria':categoria,'titulo':titulo,'codigo':a[b]},table_name='amerpago',verbose=2)
        b=b+1
        f=0
    d=d+1
    b=0


        

    
    

    
    