import lxml.etree
import lxml.html
import scraperwiki
L = [811248]

# Load HTML
base = "http://sales.enesco.com/business/ProductDetails.aspx?ProductID="
for item in L:
    product = str(item)
    url = base + product
    root = lxml.html.parse(url).getroot()

# Print out fetched data
    productId = root.cssselect('td.product-detail-id')[0]
    material = root.cssselect('p.product-detail-material')[0]
    measure = root.cssselect('p.product-detail-measure')[0]
    #desc = root.cssselect('p.product-detail-description2')[0]
    print "'" + product + "';'" + material.text + "';'" + measure.text + "'"

# Write data to SQL
    scraperwiki.sqlite.save(unique_keys=['product'], data={"product":product, "measure":measure.text, "material":material.text, "desc":0})           

i = iter(L)
item = i.next()


import lxml.etree
import lxml.html
import scraperwiki
L = [
4018437, 4019936, 4019945, 4020349, 4020352, 4024849, 4025941, 4030678, 4027562, 4024864, 4026398, 4026746, 4030693, 4030804, 4030805, 4020001, 4020353, 4020365, 4024848, 4024850, 4024851, 4024852, 4026471, 4026535, 4026747, 4026748, 4027357, 4028196, 4031843, 4031845, 4019986, 4026743, 4031797, 4031905, 4031927, 4019947, 4019983, 4023938, 4024875, 4025695, 4026410, 4026472, 4026473, 4027349, 4027351, 4027356, 4027420, 4027474, 4027475, 4028195, 4030549, 4031799, 4031801, 4031863, 4031867, 4031868, 4031872, 4031873, 4031894, 4031903, 4031907, 4031908, 4031926, 4031909, 4031893, 4026536, 4026538, 4026749, 4026818, 4020021, 4025682, 4025685, 4025709, 4026754, 4031902, 4020019, 4025681, 4026400, 4026503, 4026742, 4031782, 4031819, 4031895, 4031912, 4031924, 4026741, 4031879, 4021707, 4021868, 4021904, 4021952, 4025680, 4026533, 4026548, 4026744, 4026755, 4026757, 4026822, 4026824, 4027354, 4031775, 4031791, 4031807, 4031810, 4031811, 4031818, 4031864, 4031869, 4031880, 4031891, 4031900, 4031910, 4031918, 4031920, 4031922, 4031925, 4019985, 4020058, 4031846, 4031911, 4025683, 4031896, 4031928, 4020050, 4023939, 4023941, 4031847, 4031848, 4021905, 4027738, 4021903, 4020023, 4021897, 4020051, 4020053, 4023940, 4020052, 4023942, 4020366, 4024873, 4027350, 4031795, 4031798, 4031866, 4035757, 4035758, 4036156, 4036157, 4036158, 4036159, 4018439, 4024877, 4026539, 4026758, 4027355, 4027361, 4031777, 4031784, 4031787, 4031803, 4031852, 4031870, 4031906, 4031919, 4035759, 4036704, 4035749, 4035564, 4030787, 4008072, 4030784, 4026951, 4030760, 4030915, 4032703, 4026644, 4026950, 4030708, 4030908, 4030909, 4030916, 4030339, 4030338, 4030340, 4030701, 4030704, 4030706, 4030707, 4030709, 4030738, 4030914, 4033843, 4030337, 4030344, 4030350, 4030705, 4030750, 4032207, 4033844, 4033847, 4030747, 4027599, 4027602, 4030702, 4030703, 4030758, 4030779, 4034863, 4030345, 4030352, 4030354, 4030766, 4032206, 4033842, 4030347, 4030353, 4030757, 4030759, 4030764, 4030767, 4030783, 4032210, 4032412, 4033273, 4033835, 4030741, 4030742, 4030343, 4030348, 4030349, 4033840, 4034861, 4034862, 4030734, 4030743, 4027603, 4030910, 4033829, 4030733, 4030346, 4030736, 4033828, 4033838, 4033841, 4030762, 4030782, 4030891, 4026954, 4030360, 4030361, 4030367, 4030368, 4030372, 4030374, 4030699, 4030735, 4030737, 4030739, 4030746, 4030748, 4030749, 4030756, 4030771, 4030788, 4032413, 4030356, 4030745, 4032414, 4033839, 4033845, 4030341, 4030710, 4030895, 4033849, 4035555, 4016902, 4030375, 4030378, 4030721, 4030752, 4030769, 4030362, 4030373, 4030753, 4030768, 4032212, 4032213, 4032676, 4033773, 4030719, 4030728, 4030754, 4033830, 4033854, 4030893, 4030712, 4030358, 4030364, 4030365, 4030366, 4030700, 4030713, 4030714, 4030716, 4030723, 4030725, 4030726, 4030765, 4030778, 4030897, 4032415, 4033848, 4030351, 4030359, 4030722, 4030724, 4030727, 4030780, 4030781, 4032416, 4030715, 4030717, 4030718, 4033834, 4033836, 4033837, 4033846, 4030357, 4030729, 4030761, 4030785, 4028707, 4030789, 4030900, 4032417, 4030763, 4030894, 4030755, 4033833, 4033852, 4033853, 4033851, 4030898, 4030903, 4033831, 4030904, 4030786, 4030899, 4030896, 4030905, 4035316, 4035315, 4030772, 4030773, 4033274, 4035585, 4035565, 4035917, 4035918, 4036084, 4036091, 4030342, 4035570, 4035574, 4035575, 4035576, 4035580, 4035581, 4035582, 4035583, 4035587, 4035569, 4035584, 4035586, 4035588, 4035572, 4035577, 4035578, 4026955, 4032211, 4032214, 4032215, 4032220, 4032221, 4032222, 4032223, 4032224, 4032427, 4032429, 4030744, 4035566, 4035567, 4035571, 4035590, 4035919, 4035589, 808712, 811274, 808711, 811289, 808709, 800352, 810390, 808710, 808708, 810396]

# Load HTML
base = "http://sales.enesco.com/business/PrePackDetails.aspx?PPKid=4028181&ProductID="
for item in L:
    product = str(item)
    url = base + product
    root = lxml.html.parse(url).getroot()

# Print out fetched data
    productId = root.cssselect('td.product-detail-id')[0]
    material = root.cssselect('p.product-detail-material')[0]
    date = root.cssselect('p.product-detail-intro')[0]
    measure = root.cssselect('p.product-detail-measure')[0]
    #desc = root.cssselect('p.product-detail-description2')[0]
    print "'" + product + "';'" + str(material.text) + "';'" + str(date.text) + "';'" + str(measure.text) + "'"

# Write data to SQL
    scraperwiki.sqlite.save(unique_keys=['product'], data={"product":product, "material":material.text, "date":date.text, "measure":measure.text, "desc":0})           

i = iter(L)
item = i.next()


