import scraperwiki
import lxml
import urllib
import simplejson
import time

titles = ["The Amazing Spider-Man 2","The Shawshank Redemption","The Godfather","Star Wars: Episode IV - A New Hope","Back to the Future","The Breakfast Club","The Goonies","The Silence of the Lambs","Jurassic Park","The Lion King","Pulp Fiction","Se7en","Toy Story","The Big Lebowski","Saving Private Ryan","Fight Club","The Matrix","Star Wars: Episode I - The Phantom Menace","Gladiator","X-Men","Harry Potter and the Philosopher's Stone","The Lord of the Rings: The Fellowship of the Ring","The Lord of the Rings: The Two Towers","xXx","Finding Nemo","The Lord of the Rings: The Return of the King","Anchorman: The Legend of Ron Burgundy","Mean Girls","Sin City","Star Wars: Episode III - Revenge of the Sith","Batman Begins","The Departed","The Prestige","V for Vendetta","Casino Royale","Transformers","The Dark Knight","Iron Man","Quantum of Solace","Tropic Thunder","G.I. Joe: The Rise of Cobra","The Hangover","Inglourious Basterds","Star Trek","Taken","Up","X-Men Origins: Wolverine","Zombieland","2012","Avatar","Despicable Me","Grown Ups","How to Train Your Dragon","Inception","Iron Man 2","Kick-Ass","Red","Shutter Island","TRON: Legacy","Toy Story 3","Drive","Fast & Furious 5","Harry Potter and the Deathly Hallows: Part 2","Limitless","Pirates of the Caribbean: On Stranger Tides","X-Men: First Class","The Girl with the Dragon Tattoo","The Help","In Time","21 Jump Street","The Amazing Spider-Man","American Reunion","The Avengers","Battleship","The Bourne Legacy","Brave","The Cabin in the Woods","The Campaign","Cloud Atlas","The Dark Knight Rises","Dark Shadows","Django Unchained","Dredd","End of Watch","The Expendables 2","Flight","The Guilt Trip","Here Comes the Boom","The Hobbit: An Unexpected Journey","Hotel Transylvania","Jack Reacher","John Carter","Killing Them Softly","Lawless","Life of Pi","Looper","Magic Mike","Man on a Ledge","The Man with the Iron Fists","The Master","Men in Black 3","Parental Guidance","Project X","Prometheus","Red Dawn","Rise of the Guardians","Savages","Seven Psychopaths","Sinister","Skyfall","Snow White and the Huntsman","Taken 2","Ted","That's My Boy","This Is 40","Total Recall","Promised Land","Wreck-It Ralph","Jack the Giant Slayer","Oz the Great and Powerful","A Good Day to Die Hard","Trance","Side Effects","Spring Breakers","The Incredible Burt Wonderstone","Disconnect","Mud","The Company You Keep","Olympus Has Fallen","The Place Beyond the Pines","G.I. Joe: Retaliation","The Croods","A Haunted House","World War Z","Oblivion","Ender's Game","The Hobbit: The Desolation of Smaug","Man of Steel","Pacific Rim","The Hunger Games: Catching Fire","The Lone Ranger","The Wolverine","Elysium","After Earth","Iron Man 3","This Is the End","R.I.P.D.","Thor: The Dark World","Star Trek Into Darkness","Now You See Me","The Hangover Part III","Kick-Ass 2","The Lords of Salem","Iron Sky","The Impossible","Filly Brown","Antiviral","Anna Karenina","The Cloth","What Richard Did","Stand Up Guys","Tomorrow You're Gone","Not Fade Away","Any Day Now","Under the Bed","Outback","The Boondock Saints","The Evil Dead","42","Evil Dead","Scary MoVie","Broken City","Gangster Squad","Furious 6","Pain & Gain","The Numbers Station","Mama","Pawn","300: Rise of an Empire","Temptation: Confessions of a Marriage Counselor","The Way, Way Back","Grown Ups 2","Dark Skies","Assassins Run","Percy Jackson: Sea of Monsters","The Bling Ring","Identity Thief","The Big Wedding","Welcome to the Punch","Only God Forgives","Devils of War","Movie 43","The Haunting in Connecticut 2: Ghosts of Georgia","The Call","Crush","Hansel & Gretel: Witch Hunters","The Purge","Snitch","A Clockwork Orange","Willy Wonka & the Chocolate Factory","The Godfather: Part II","One Flew Over the Cuckoo's Nest","Star Wars: Episode V - The Empire Strikes Back","Raiders of the Lost Ark","Apocalypse Now","Alien","Blade Runner","E.T. the Extra-Terrestrial","The Outsiders","Scarface","Star Wars: Episode VI - Return of the Jedi","Ghostbusters","Red Dawn","The Terminator","Full Metal Jacket","Die Hard","Leon: The Professional","The Usual Suspects","Heat","Independence Day","Good Will Hunting","Armageddon","The Truman Show","American Beauty","Big Daddy","The Green Mile","The Mummy","Office Space","The Sixth Sense","Toy Story 2","American Psycho","Scary Movie","Snatch.","Monsters, Inc.","Men in Black II","Red Dragon","Spider-Man","Spirited Away","Star Wars: Episode II - Attack of the Clones","The Italian Job","The Matrix Reloaded","Pirates of the Caribbean: The Curse of the Black Pearl","Big Fish","Kill Bill: Vol. 1","Dodgeball: A True Underdog Story","EuroTrip","Harry Potter and the Prisoner of Azkaban","The Incredibles","Napoleon Dynamite","Shaun of the Dead","Crash","The Chronicles of Narnia: The Lion, the Witch and the Wardrobe","Harry Potter and the Goblet of Fire","Cars","Pan's Labyrinth","Superman Returns","Talladega Nights: The Ballad of Ricky Bobby","X-Men: The Last Stand","The Bourne Ultimatum","Die Hard 4.0","No Country for Old Men","Ratatouille","Superbad","There Will Be Blood","Jumper","Gran Torino","The Incredible Hulk","Pineapple Express","RocknRolla","Role Models","Step Brothers","Wanted","District 9","Harry Potter and the Half-Blood Prince","Law Abiding Citizen","Terminator Salvation","Transformers: Revenge of the Fallen","Watchmen","Sherlock Holmes","The A-Team","Alice in Wonderland","Black Swan","The Book of Eli","Clash of the Titans","Due Date","The Expendables","Get Him to the Greek","Harry Potter and the Deathly Hallows: Part 1","The Other Guys","Percy Jackson & the Olympians: The Lightning Thief","Robin Hood","Salt","The Town","Bad Teacher","World Invasion: Battle LA","Cars 2","The Change-Up","Cowboys & Aliens","Green Lantern","The Hangover Part II","Horrible Bosses","I Am Number Four","Paul","Rio","Rise of the Planet of the Apes","Scream 4","Source Code","Sucker Punch","50/50","Contagion","The Descendants","The Ides of March","Immortals","Real Steel","Sherlock Holmes: A Game of Shadows","Tinker Tailor Soldier Spy","We Bought a Zoo","Abraham Lincoln: Vampire Hunter","Alex Cross","Chasing Mavericks","Chernobyl Diaries","Chronicle","The Collection","Contraband","The Dictator","Fun Size","The Grey","Haywire","House at the End of the Street","Ice Age: Continental Drift","Lockout","The Lorax","Madagascar 3: Europe's Most Wanted","The Odd Life of Timothy Green","ParaNorman","Premium Rush","The Raven","Resident Evil: Retribution","Safe House","Silent Hill: Revelation 3D","Wanderlust","The Watch","Wrath of the Titans","The Last Stand","Snowpiercer","Stoker","Monsters University","Carrie","Despicable Me 2","Anchorman: The Legend Continues","White House Down","Riddick","Oldboy","The Story of Luke","Stolen","Beasts of the Southern Wild","Deadfall","On the Road","The Paperboy","The Tall Man","John Dies at the End","Great Expectations","The Awakening","Shame","The Best Exotic Marigold Hotel","Moon","Fast & Furious","The Hurt Locker","Memento","Donnie Darko","Coffee and Cigarettes","American History X","Trainspotting","Reservoir Dogs","Dazed and Confused","The Shining","Noah","Guardians of the Galaxy","Teenage Mutant Ninja Turtles","Jurassic Park IV","The Expendables 3","Java Heat","Dead Man Down","Sin City: A Dame to Kill For","21 & Over","Parker","Till We Meet Again","Escape from Planet Earth","A Resurrection","The Internship","Epic","Revelation Road: The Beginning of the End","Jaws","The Man with the Golden Gun","Taxi Driver","Aliens","Platoon","Stand by Me","Predator","Back to the Future Part II","Dead Poets Society","Indiana Jones and the Last Crusade","Rain Man","Who Framed Roger Rabbit","Home Alone","Total Recall","Unforgiven","Army of Darkness","The Sandlot Kids","The Crow","Dumb & Dumber","Twelve Monkeys","Fargo","The Rock","Boogie Nights","The Fifth Element","L.A. Confidential","Liar Liar","The Lost World: Jurassic Park","Men in Black","Fear and Loathing in Las Vegas","Stepmom","Magnolia","Almost Famous","O Brother, Where Art Thou?","The Fast and the Furious","Jurassic Park III","Ocean's Eleven","Scary Movie 2","Shrek","Training Day","8 Mile","The Bourne Identity","Harry Potter and the Chamber of Secrets","Minority Report","28 Days Later...","Lost in Translation","Old School","School of Rock","X2","Cheaper by the Dozen","The Matrix Revolutions","Mystic River","Scary Movie 3","The Bourne Supremacy","The Butterfly Effect","Collateral","I, Robot","Kill Bill: Vol. 2","Million Dollar Baby","Spider-Man 2","Van Helsing","Madagascar","The Sisterhood of the Travelling Pants","Charlie and the Chocolate Factory","The Dukes of Hazzard","Fantastic Four","The Island","Serenity","War of the Worlds","The Fast and the Furious: Tokyo Drift","Inside Man","Pirates of the Caribbean: Dead Man's Chest","Scary Movie 4","Silent Hill","Blood Diamond","Harry Potter and the Order of the Phoenix","Hitman","Hot Fuzz","I Am Legend","The Mist","Pirates of the Caribbean: At World's End","Spider-Man 3","Zodiac","Hancock","Kung Fu Panda","Seven Pounds","Angels & Demons","Knowing","Couples Retreat","The Lovely Bones","The Karate Kid","Knight and Day","The Last Airbender","Megamind","Predators","Shrek Forever After","Unstoppable","Drive Angry","The Green Hornet","Hanna","Insidious","Kung Fu Panda 2","Red Riding Hood","Unknown","Your Highness","Colombiana","Extremely Loud & Incredibly Close","Killer Elite","The Muppets","Puss in Boots","Tower Heist","War Horse","Act of Valor","The Cold Light of Day","Frankenweenie","Gone","Journey 2: The Mysterious Island","The Lucky One","Mirror Mirror","Paranormal Activity 4","The Possession","The Raid","Trouble with the Curve","Underworld: Awakening","The Woman in Black","American Mary","The World's End","The Expatriate","Lay the Favorite","Robot & Frank","Would You Rather","Bullet to the Head","Gambit","Red Lights","Arbitrage","The Baytown Outlaws","The Tree of Life","Killer Joe","Winter's Bone","The Road","In Bruges","Sunshine","Children of Men","The Machinist","Like Minds","Equilibrium","Lock, Stock and Two Smoking Barrels","Interstellar","Godzilla","Before Midnight","The Heat","The Conjuring","The Rocky Horror Picture Show","Monty Python and the Holy Grail","The Exorcist","Rocky","Superman","The Thing","Terms of Endearment","Indiana Jones and the Temple of Doom","The NeverEnding Story","The Lost Boys","Spaceballs","Beetlejuice","Batman","The Godfather: Part III","Basic Instinct","A Few Good Men","The Secret Garden","True Romance","What's Eating Gilbert Grape","True Lies","Die Hard: With a Vengeance","Friday","Hackers","From Dusk Till Dawn","The Neverending Story III","A Time to Kill","Mars Attacks!","Scream","The Game","Jackie Brown","Starship Troopers","Mulan","A Bug's Life","Eyes Wide Shut","Cast Away","Gone in Sixty Seconds","Jay and Silent Bob Strike Back","The Mummy Returns","Not Another Teen Movie","Planet of the Apes","Zoolander","Super Troopers","Die Another Day","Ice Age","Resident Evil","The Ring","2 Fast 2 Furious","Anger Management","Hulk","Identity","Wrong Turn","Bad Santa","The Chronicles of Riddick","Dawn of the Dead","The Day After Tomorrow","Lemony Snicket's A Series of Unfortunate Events","Man on Fire","Ocean's Twelve","Saw","Shrek 2","White Chicks","The Amityville Horror","Constantine","Cheaper by the Dozen 2","Land of the Dead","Crank","The Da Vinci Code","Grandma's Boy","Little Miss Sunshine","The Wrong Man","Apocalypto","28 Weeks Later","August Rush","Bridge to Terabithia","Evan Almighty","Gone Baby Gone","The Number 23","Ocean's Thirteen","Sweeney Todd: The Demon Barber of Fleet Street","Cloverfield","Never Back Down","Rambo","Paranormal Activity","21","Body of Lies","Bolt","The Day the Earth Stood Still","Death Race","Get Smart","Hellboy 2: The Golden Army","Indiana Jones and the Kingdom of the Crystal Skull","Journey to the Centre of the Earth","9","Cloudy with a Chance of Meatballs","Gamer","The Haunting in Connecticut","The Imaginarium of Doctor Parnassus","The Last House on the Left","The Men Who Stare at Goats","Monsters vs Aliens","My Sister's Keeper","Orphan","Pandorum","Precious","Push","The Chronicles of Narnia: The Voyage of the Dawn Treader","Diary of a Wimpy Kid","Faster","Hot Tub Time Machine","Little Fockers","Machete","Piranha","Resident Evil: Afterlife","The Sorcerer's Apprentice","Hop","The Mechanic","Priest","The Smurfs","30 Minutes or Less","The Darkest Hour","Fright Night","Happy Feet Two","The Sitter","The Thing","Ghost Rider: Spirit of Vengeance","People Like Us","The Pirates! Band of Misfits","The Three Stooges","Upstream Color","Serena","Sightseers","Piranha 3DD","Cosmopolis","The Angels' Share","Zambezia","The Bay","The Factory","So Undercover","Quartet","Liberal Arts","The Sweeney","Get the Gringo","Dead Before Dawn 3D","Wrong Turn 5: Bloodlines","Shadow Dancer","The Speed of Thought","We Need to Talk About Kevin","Hick","This Must Be the Place","Another Earth","Melancholia","Tucker and Dale vs Evil","Antichrist","Death Proof","Lars and the Real Girl","Kiss Kiss Bang Bang","Mulholland Dr.","Kids","The Blues Brothers","The Hobbit: There and Back Again","The Maze Runner","RoboCop","Red 2","Cheech & Chong's Animated Movie","Maid in Sweden","Blazing Saddles","The Deer Hunter","TRON","Police Academy","Big Trouble in Little China","Labyrinth","3 Men and a Baby","Say Anything...","Back to the Future Part III","Die Hard 2","Teenage Mutant Ninja Turtles","Point Break","My Cousin Vinny","Scent of a Woman","Mrs. Doubtfire","The Nightmare Before Christmas","Ace Ventura: Pet Detective","Natural Born Killers","Waterworld","Austin Powers: International Man of Mystery","Con Air","The Devil's Advocate","Dark City","Wild Things","Blade","Enemy of the State","Rush Hour","The Thin Red Line","The Iron Giant","Sleepy Hollow","Pitch Black","Dude, Where's My Car?","The Emperor's New Groove","Mission: Impossible II","The Patriot","Traffic","Unbreakable","A.I. Artificial Intelligence","Atlantis: The Lost Empire","Austin Powers in Goldmember","Lilo & Stitch","Scooby-Doo","Signs","The Transporter","Bruce Almighty","The League of Extraordinary Gentlemen","Phone Booth","S.W.A.T.","Terminator 3: Rise of the Machines","Harold & Kumar Go to White Castle","Hellboy","National Treasure","The Passion of the Christ","The Punisher","Resident Evil: Apocalypse","The Terminal","The Hitchhiker's Guide to the Galaxy","The Longest Yard","The Pacifier","xXx 2: The Next Level","Lord of War","Accepted","The Hills Have Eyes","Over the Hedge","Thank You for Smoking","Underworld: Evolution","Deja Vu","Eragon","Night at the Museum","1408","3:10 to Yuma","Beowulf","The Bucket List","Epic Movie","Fracture","Ghost Rider","Hannibal Rising","Meet the Robinsons","Michael Clayton","Next","Shrek the Third","Smokin' Aces","Horton Hears a Who!","Burn After Reading","The Chronicles of Narnia: Prince Caspian","Eagle Eye","The Happening","Madagascar 2","Max Payne","You Don't Mess with the Zohan","The Collector","Coraline","Drag Me to Hell","An Education","Funny People","Jennifer's Body","Race to Witch Mountain","State of Play","Surrogates","The Uninvited","Fantastic Mr. Fox","The Fourth Kind","Where the Wild Things Are","The American","Green Zone","The Kids Are All Right","Legion","Let Me In","Letters to Juliet","A Nightmare on Elm Street","Wall Street: Money Never Sleeps","Our Idiot Brother","Final Destination 5","Jack and Jill","Johnny English Reborn","A Very Harold & Kumar 3D Christmas","The Apparition","Cirque du Soleil: Worlds Away","Sparkle","Inside Llewyn Davis","Chinese Zodiac","Bad Kids Go to Hell","The Truth","The Thompsons","Small Apartments","Smashed","Struck by Lightning","Blitz","Butter","Carnage","The Innkeepers","Bernie","The Inbetweeners Movie","Coriolanus","Wrong Turn 4: Bloody Beginnings","The Divide","Tomorrow, When the War Began","Unthinkable","I Spit on Your Grave","The Clinic","The Boondock Saints II: All Saints Day","Outlander","Idiocracy","Green Street Hooligans","The Man from Earth","Primer","Before Sunset","Layer Cake","Planet Terror","Hard Candy","Little Children","A Nightmare on Elm Street","Jupiter Ascending","Mad Max: Fury Road","Resident Evil: Afterbirth","American Graffiti","Caddyshack","Superman II","Life of Brian","WarGames","Gremlins","The Natural","Dune","Lethal Weapon","RoboCop","Wall Street","Christmas Vacation","Field of Dreams","Parenthood","The Hunt for Red October","Kindergarten Cop","My Girl","Alien 3","Batman Returns","A Bronx Tale","Carlito's Way","The Fugitive","The Mask","Speed","Stargate","Billy Madison","Batman Forever","Mortal Kombat","Twister","Space Jam","Alien: Resurrection","Anastasia","Batman & Robin","The Parent Trap","Psycho","Ronin","Austin Powers: The Spy Who Shagged Me","Dogma","The Haunting","The Ninth Gate","The Beach","Final Destination","Bring It On","Charlie's Angels","Chocolat","The Grinch","Me, Myself & Irene","Meet the Parents","Pay It Forward","Road Trip","Bridget Jones's Diary","I Am Sam","Lara Croft: Tomb Raider","The Last Castle","The Others","The Royal Tenenbaums","Save the Last Dance","Blade II","Chicago","The Hot Chick","Panic Room","Road to Perdition","Sweet Home Alabama","American Wedding","Daredevil","Once Upon a Time in Mexico","What a Girl Wants","Master and Commander: The Far Side of the World","Paycheck","The Texas Chainsaw Massacre","AVP: Alien vs. Predator","Blade: Trinity","Friday Night Lights","The Polar Express","Shark Tale","The Village","Walking Tall","House of Wax","Chicken Little","Corpse Bride","The Devil's Rejects","A History of Violence","Into the Blue","Just Friends","Transporter 2","Waiting...","Borat: Cultural Learnings of America for Make Benefit Glorious Nation of Kazakhstan","Hostel","Ice Age: The Meltdown","Ultraviolet","The Wild","Catch and Release","Happy Feet","30 Days of Night","Bee Movie","Disturbia","Eastern Promises","The Golden Compass","Grindhouse","The Kingdom","Mr. Brooks","National Treasure 2","Resident Evil: Extinction","Rush Hour 3","The Simpsons Movie","Step Up 2: The Streets","Babylon A.D.","The Bank Job","Disaster Movie","Doomsday","Harold & Kumar Escape from Guantanamo Bay","Lakeview Terrace","Marley & Me","The Mummy: Tomb of the Dragon Emperor","Nick & Norah's Infinite Playlist","Nim's Island","Star Wars: The Clone Wars","The Strangers","Transporter 3","What Happens in Vegas","Adventureland","Bride Wars","Fame","G-Force","Ghosts of Girlfriends Past","Inkheart","The International","Night at the Museum 2","The Taking of Pelham 1 2 3","Underworld: Rise of the Lycans","Daybreakers","Brothers","The Invention of Lying","The Boat That Rocked","The Bounty Hunter","Cop Out","The Crazies","Devil","Dinner for Schmucks","From Paris with Love","The Ghost Writer","Gulliver's Travels","Hereafter","Killers","The Last Song","Legend of the Guardians: The Owls of Ga'Hoole","The Losers","MacGruber","Repo Men","Skyline","Takers","When in Rome","Youth in Revolt","The Debt","The Dilemma","The Eagle","Mr. Popper's Penguins","Arthur Christmas","The Big Year","Dream House","Atlas Shrugged II: The Strike","Arrietty","A Thousand Words","Knight of Cups","Maniac","The East","Gravity","For a Good Time, Call...","Eden","Sushi Girl","The ABCs of Death","Vamps","Tad, the Lost Explorer","Performance","Cleanskin","The Pact","Grave Encounters 2","Red State","Sleeping Beauty","Seeking Justice","The Double","Take Shelter","Trespass","Perfect Sense","The Company Men","13","Flipped","Dirty Girl","Beginners","Valhalla Rising","Mary and Max","Chloe","In the Loop","The Human Centipede (First Sequence)","Personal Effects","Cashback","The Butterfly","St. Trinian's","Half Nelson","East Is East","Secretary","Maleficent","Hercules: The Thracian Wars","Deliverance","Diamonds Are Forever","Young Frankenstein","Robin Hood","Network","Close Encounters of the Third Kind","Annie Hall","The Warriors","Moonraker","Conan the Barbarian","First Blood","Grease 2","Risky Business","The Color Purple","Rambo: First Blood Part II","Rocky IV","A Night on the Town","Planes, Trains & Automobiles","The Running Man","Lethal Weapon 2","Road House","Steel Magnolias","Tremors","Boyz n the Hood","Cape Fear","Demolition Man","Philadelphia","Clear and Present Danger","Four Weddings and a Funeral","Casper","Desperado","Mallrats","Showgirls","The Hunchback of Notre Dame","Kingpin","The English Patient","Air Force One","I Know What You Did Last Summer","Half Baked","Rounders","Shakespeare in Love","The Waterboy","What Dreams May Come","Any Given Sunday","Being John Malkovich","Galaxy Quest","High Fidelity","Original Sin","Rush Hour 2","Spy Kids","25th Hour","About a Boy","Adaptation.","Mr. Deeds","My Big Fat Greek Wedding","Treasure Planet","Freaky Friday","House of 1000 Corpses","The Recruit","Welcome to the Jungle","Tears of the Sun","Dr. Seuss' The Cat in the Hat","Something's Gotta Give","Along Came Polly","Chasing Liberty","Cellular","The Grudge","Ladder 49","Sideways","Taking Lives","Elektra","A Lot Like Love","Robots","Flightplan","Hoodwinked!","Saw II","Beerfest","The Covenant","Flushed Away","The Guardian","Marine","Miami Vice","Monster House","Arthur et les Minimoys","Rocky Balboa","Alvin and the Chipmunks","Blades of Glory","Fantastic 4: Rise of the Silver Surfer","Georgia Rule","Halloween","Lions for Lambs","Reign Over Me","Shoot 'Em Up","Surf's Up","Walk Hard: The Dewey Cox Story","Rogue Assassin","10,000 BC","Fool's Gold","In the Name of the King: A Dungeon Siege Tale","The Spiderwick Chronicles","Vantage Point","Four Holidays","Made of Honour","Street Kings","All About Steve","Confessions of a Shopaholic","Crank: High Voltage","Friday the 13th","Land of the Lost","Love Happens","Ninja Assassin","A Perfect Getaway","The Unborn","Year One","Brooklyn's Finest","Case 39","Edge of Darkness","Going the Distance","The Last Exorcism","Leap Year","Paranormal Activity 2","Splice","The Wolfman","Arthur","Larry Crowne","Monte Carlo","The Rite","The Roommate","Sanctum","Season of the Witch","Alvin and the Chipmunks: Chipwrecked","Apollo 18","Dolphin Tale","Straw Dogs","Big Miracle","Diary of a Wimpy Kid: Dog Days","Winter's Tale","The AristoCats","Secret of the Wings","Excision","Saints and Soldiers: Airborne Creed","Extraction","Passion","Cockneys vs Zombies","Universal Soldier: Day of Reckoning","Stitches","About Cherry","Chained","The Brass Teapot","Ginger & Rosa","A Fantastic Fear of Everything","Branded","Salmon Fishing in the Yemen","Intruders","Black Gold","Attack the Block","The Beaver","The Guard","Atlas Shrugged: Part I","The Son of No One","Ironclad","Room in Rome","The Ward","Shelter","Buried","Hesher","Super","The Rebound","I Love You Phillip Morris","Dorian Gray","Crossing Over","A Serious Man","A Single Man","The Loved Ones","Tony","The Fall","Death at a Funeral","Match Point","The Poughkeepsie Tapes","Rachel Getting Married","Lie with Me","Wild Child","Funny Games U.S.","This Is England","Once","21 Grams","Wet Hot American Summer","Ghost World","Clerks.","Lolita","Swingers","Cube","Brazil","Blue Velvet","The Blue Lagoon","The Fox and the Hound","The Lego Movie","Birdman","The Grand Budapest Hotel","Dog Day Afternoon","The Sting","Mean Streets","The Many Adventures of Winnie the Pooh","Halloween","Mad Max","Annie","Mad Max 2","Rocky III","Tootsie","A Christmas Story","Breakin'","Revenge of the Nerds","The Fly","Manhunter","Angel Heart","The Living Daylights","The Secret of My Succe$s","The Abyss","Ghostbusters II","They Live","Bill & Ted's Excellent Adventure","Misery","New Jack City","Hot Shots!","Home Alone 2: Lost in New York","Champions","White Men Can't Jump","Falling Down","Addams Family Values","Hocus Pocus","Robin Hood: Men in Tights","Rookie of the Year","Ace Ventura: When Nature Calls","Babe","Judge Dredd","Major Payne","Outbreak","Don't Be a Menace to South Central While Drinking Your Juice in the Hood","DragonHeart","The Frighteners","Sling Blade","101 Dalmatians","Dante's Peak","Kiss the Girls","Scream 2","Can't Hardly Wait","Lethal Weapon 4","Beloved","Ever After: A Cinderella Story","Rushmore","The Siege","The 13th Warrior","Blast from the Past","Stuart Little","Varsity Blues","Scream 3","Hollow Man","The Legend of Bagger Vance","The Perfect Storm","U-571","What Women Want","From Hell","Joe Dirt","Serendipity","Spy Game","John Q","Reign of Fire","The Scorpion King","The Time Machine","Charlie's Angels: Full Throttle","Freddy vs. Jason","Secondhand Lions","Under the Tuscan Sun","Mona Lisa Smile","Timeline","Confessions of a Teenage Drama Queen","The Life Aquatic with Steve Zissou","The Manchurian Candidate","Raising Helen","Spanglish","Kung Fu Hustle","Ã†on Flux","The Brothers Grimm","The Constant Gardener","Derailed","Doom","The Exorcism of Emily Rose","Red Eye","Rent","Rumour Has It...","The Skeleton Key","Sky High","Zathura","Big Momma's House 2","The Black Dahlia","The Break-Up","Clerks II","Final Destination 3","Just My Luck","The Lake House","Nanny McPhee","Open Season","Running Scared","Saw III","Slither","Tenacious D in The Pick of Destiny","Charlotte's Web","A Good Year","AVPR: Aliens vs Predator - Requiem","Black Snake Moan","The Brave One","Dan in Real Life","The Darjeeling Limited","The Game Plan","The Heartbreak Kid","I Now Pronounce You Chuck & Larry","License to Wed","Norbit","Sydney White","We Own the Night","Wild Hogs","The Orphanage","Semi-Pro","Untraceable","Blindness","City of Ember","Doubt","Mirrors","Punisher: War Zone","Saw V","The Sisterhood of the Traveling Pants 2"]

titles2 = ["Like Someone in Love","Narenji Poush"]


for s in range(0, len(titles)):
    titleNice = urllib.quote_plus(titles[s])
    title = simplejson.loads(scraperwiki.scrape('http://api.rottentomatoes.com/api/public/v1.0/movies.json?apikey=bwt5wn89d4xjv93b8y86b93w&q=' + titleNice))
    try:
        movieTitle = title['movies'][0]['title']
        criticScore = title['movies'][0]['ratings']['critics_score']
        userScore = title['movies'][0]['ratings']['audience_score']
        url = title['movies'][0]['links']['alternate']
        id = title['movies'][0]['id']    
        linkURL = title['movies'][0]['links']['self']
        mpaa_rating = title['movies'][0]['mpaa_rating']
    
        try:
            lead_actor1 = title['movies'][0]['abridged_cast'][0]['name']
        except:
            lead_actor1 = 'na'
        try:
            lead_actor2 = title['movies'][0]['abridged_cast'][1]['name']    
        except:
            lead_actor2 = 'na'    
    
        if movieTitle == titles[s]:
            matching = 'yes'
        else:
            matching = 'no'
    
        try:
            moreDetail = simplejson.loads(scraperwiki.scrape(linkURL + '?apikey=bwt5wn89d4xjv93b8y86b93w'))
            try:
                genres = moreDetail['genres']
            except:
                genres = 'na'
            try:
                studio = moreDetail['studio'] 
            except:
                studio = 'na'
            try:
                director = moreDetail['abridged_directors'][0]['name']
            except:
                director = 'na'
        except:
            genres = 'na'
            studio = 'na'
            director = 'na'

        print matching
        print movieTitle
        print criticScore
        print userScore
        print url
        print id
        print genres
        print mpaa_rating
        print lead_actor1
        print lead_actor2
        print studio
        print director
    
        data = {}
        data['title'] = movieTitle
        data['critic_score'] = criticScore
        data['user_score'] = userScore
        data['url'] = url
        data['id'] = id
        data['genres'] = genres
        data['mpaa_rating'] = mpaa_rating
        data['lead_actor1'] = lead_actor1
        data['lead_actor2'] = lead_actor2
        data['studio'] = studio
        data['titles_match'] = matching
        data['old_title'] = titles[s]
        data['director'] = director   
        scraperwiki.sqlite.save(unique_keys=["id"], data=data)
        scraperwiki.sqlite.save_var('upto', s)
    except:
        print 'Nah, no movie called ' + titles[s]
    time.sleep(2)



