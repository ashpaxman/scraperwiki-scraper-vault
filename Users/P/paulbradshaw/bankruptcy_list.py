# typical URL is http://www.london-gazette.co.uk/id/issues/60112/notices/1568529
# list of URLs collected by scraper at https://scraperwiki.com/scrapers/bankruptcies/
# Downloaded as CSV and codes extracted in Google Docs by using =RIGHT(A2, 7)
# Cycle through a list of those codes, created by using the =JOIN formula in Google Docs

#If you want to understand this scraper - start at the bottom where it says 'base_url' 

import scraperwiki
#import urlparse
import lxml.html

#Create a function called 'scrape_table' which is called in the function 'scrape_page' below
#The 'scrape_page' function also passed the contents of the page to this function as 'root'
def scrape_table(root):
    #Use cssselect to find the contents of a particular HTML tag, and put it in a new object 'divdata'
    #there's more than one div, so we need to specify the class="Data", represented by the full stop
    divdata = root.cssselect("div.Data")
    for pars in divdata:
        #Create a new empty record
        record = {}
        #Assign the contents of <td> to a new object called 'table_cells'
        lines = pars.cssselect("p")
        spans = pars.cssselect("p span")
        #If there's anything
#TO ADD: AN ELSE TO ADDRESS DATE/URLCODE WHICH ARE 'OUT OF RANGE' ON SOME PAGES        
        if lines: 
            #Put the contents of the first <p> into a record in the column 'pubdate'
            record['pubdate'] = spans[0].text
            record['noticecode'] = spans[1].text
            record['name'] = spans[2].text
            record['address'] = lines[4].text
            record['DOB'] = lines[5].text
            record['description'] = lines[6].text
            record['court'] = lines[7].text
            record['dateofpetition'] = lines[8].text
            record['dateoforder'] = lines[9].text
            record['timeoforder'] = lines[10].text
            record['petitionby'] = lines[11].text
            record['receiver'] = spans[3].text
#            record['date'] = lines[13].text
#            record['urlcode'] = lines[14].text
            record['ID'] = item
            print record, '------------'
            #Save in the SQLite database, with the ID code to be used as the unique reference
            scraperwiki.sqlite.save(["ID"], record)
        


#this creates a new function and (re)names whatever parameter is passed to it - i.e. 'next_link' below - as 'url'
def scrape_page(url):
    #now 'url' is scraped with the scraperwiki library imported above, and the contents put into a new object, 'html'
    html = scraperwiki.scrape(url)
    print html
    #now we use the lxml.html function imported above to convert 'html' into a new object, 'root'
    root = lxml.html.fromstring(html)
    #now we call another function on root, which we write - above
    scrape_table(root)

#START HERE: This is the part of the URL which all our pages share
base_url = 'http://www.london-gazette.co.uk/issues/'
#And these are the numbers which we need to complete that URL to make each individual URL
#This array has been compiled using the =JOIN formula in Google Docs on a column of URL codes
codes = ['60112/notices/1568529','60112/notices/1568613','60112/notices/1568537','60112/notices/1568593','60112/notices/1568532','60112/notices/1568614','60112/notices/1568541','60112/notices/1568546','60112/notices/1568523','60112/notices/1568560','60112/notices/1568590','60112/notices/1568611','60112/notices/1568573','60112/notices/1568518','60112/notices/1568530','60112/notices/1568524','60112/notices/1568526','60112/notices/1568558','60112/notices/1568516','60112/notices/1568574','60112/notices/1568547','60112/notices/1568515','60112/notices/1568565','60112/notices/1568575','60112/notices/1568549','60112/notices/1568536','60112/notices/1568610','60112/notices/1568597','60112/notices/1568527','60112/notices/1568578','60112/notices/1568501','60112/notices/1568500','60112/notices/1568545','60112/notices/1568604','60112/notices/1568602','60112/notices/1568555','60112/notices/1568543','60112/notices/1568506','60112/notices/1568520','60112/notices/1568519','60112/notices/1568534','60112/notices/1568600','60112/notices/1568608','60112/notices/1568581','60112/notices/1568569','60112/notices/1568598','60112/notices/1568514','60112/notices/1568513','60112/notices/1568508','60112/notices/1568601','60112/notices/1568571','60112/notices/1568512','60112/notices/1568585','60112/notices/1568603','60112/notices/1568521','60112/notices/1568584','60112/notices/1568589','60112/notices/1568511','60112/notices/1568596','60112/notices/1568582','60112/notices/1568591','60112/notices/1568570','60112/notices/1568612','60112/notices/1568544','60112/notices/1568553','60112/notices/1568595','60112/notices/1568588','60112/notices/1568583','60112/notices/1568522','60112/notices/1568504','60112/notices/1568542','60112/notices/1568594','60112/notices/1568567','60112/notices/1568617','60112/notices/1568579','60112/notices/1568561','60112/notices/1568548','60112/notices/1568556','60112/notices/1568554','60112/notices/1568507','60112/notices/1568538','60112/notices/1568503','60112/notices/1568599','60112/notices/1568592','60112/notices/1568577','60112/notices/1568607','60112/notices/1568539','60112/notices/1568586','60112/notices/1568576','60112/notices/1568535','60112/notices/1568531','60112/notices/1568609','60112/notices/1568499','60112/notices/1568517','60112/notices/1568572','60112/notices/1568564','60112/notices/1568563','60112/notices/1568618','60112/notices/1568498','60112/notices/1568540','60112/notices/1568528','60112/notices/1568525','60112/notices/1568559','60112/notices/1568580','60112/notices/1568552','60112/notices/1568562','60112/notices/1568587','60112/notices/1568566','60112/notices/1568551','60112/notices/1568550','60112/notices/1568510','60112/notices/1568502','60112/notices/1568606','60112/notices/1568616','60112/notices/1568568','60112/notices/1568509','60112/notices/1568605','60112/notices/1568615','60112/notices/1568496','60112/notices/1568533','60112/notices/1568557','60110/notices/1567665','60110/notices/1567688','60110/notices/1567627','60110/notices/1567700','60110/notices/1567621','60110/notices/1567636','60110/notices/1567674','60110/notices/1567675','60110/notices/1567704','60110/notices/1567679','60110/notices/1567617','60110/notices/1567685','60110/notices/1567643','60110/notices/1567678','60110/notices/1567645','60110/notices/1567693','60110/notices/1567673','60110/notices/1567628','60110/notices/1567699','60110/notices/1567638','60110/notices/1567654','60110/notices/1567640','60110/notices/1567631','60110/notices/1567702','60110/notices/1567646','60110/notices/1567701','60110/notices/1567708','60110/notices/1567676','60110/notices/1567672','60110/notices/1567637','60110/notices/1567660','60110/notices/1567711','60110/notices/1567618','60110/notices/1567681','60110/notices/1567648','60110/notices/1567655','60110/notices/1567657','60110/notices/1567694','60110/notices/1567677','60110/notices/1567624','60110/notices/1567639','60110/notices/1567691','60110/notices/1567707','60110/notices/1567706','60110/notices/1567698','60110/notices/1567623','60110/notices/1567689','60110/notices/1567668','60110/notices/1567705','60110/notices/1567656','60110/notices/1567692','60110/notices/1567669','60110/notices/1567632','60110/notices/1567666','60110/notices/1567690','60110/notices/1567614','60110/notices/1567658','60110/notices/1567712','60110/notices/1567663','60110/notices/1567697','60110/notices/1567670','60110/notices/1567649','60110/notices/1567686','60110/notices/1567653','60110/notices/1567687','60110/notices/1567713','60110/notices/1567683','60110/notices/1567684','60110/notices/1567635','60110/notices/1567695','60110/notices/1567619','60110/notices/1567667','60110/notices/1567671','60110/notices/1567634','60110/notices/1567642','60110/notices/1567696','60110/notices/1567714','60110/notices/1567710','60110/notices/1567709','60110/notices/1567630','60110/notices/1567703','60110/notices/1567652','60110/notices/1567651','60110/notices/1567680','60110/notices/1567629','60110/notices/1567661','60110/notices/1567664','60110/notices/1567644','60110/notices/1567641','60110/notices/1567659','60110/notices/1567620','60110/notices/1567622','60110/notices/1567613','60110/notices/1567616','60110/notices/1567633','60110/notices/1567650','60110/notices/1567615','60110/notices/1567662','60110/notices/1567682','60110/notices/1567647','60110/notices/1567626','60110/notices/1567625','60109/notices/1566760','60109/notices/1566714','60109/notices/1566762','60109/notices/1566698','60109/notices/1566764','60109/notices/1566756','60109/notices/1566687','60109/notices/1566774','60109/notices/1566773','60109/notices/1566707','60109/notices/1566741','60109/notices/1566748','60109/notices/1566723','60109/notices/1566729','60109/notices/1566728','60109/notices/1566745','60109/notices/1566769','60109/notices/1566768','60109/notices/1566772','60109/notices/1566783','60109/notices/1566730','60109/notices/1566681','60109/notices/1566746','60109/notices/1566766','60109/notices/1566721','60109/notices/1566739','60109/notices/1566738','60109/notices/1566715','60109/notices/1566718','60109/notices/1566685','60109/notices/1566706','60109/notices/1566726','60109/notices/1566709','60109/notices/1566712','60109/notices/1566710','60109/notices/1566702','60109/notices/1566780','60109/notices/1566688','60109/notices/1566680','60109/notices/1566770','60109/notices/1566731','60109/notices/1566742','60109/notices/1566720','60109/notices/1566724','60109/notices/1566758','60109/notices/1566727','60109/notices/1566696','60109/notices/1566695','60109/notices/1566497','60109/notices/1566757','60109/notices/1566782','60109/notices/1566737','60109/notices/1566740','60109/notices/1566725','60109/notices/1566767','60109/notices/1566692','60109/notices/1566775','60109/notices/1566686','60109/notices/1566744','60109/notices/1566699','60109/notices/1566701','60109/notices/1566787','60109/notices/1566683','60109/notices/1566776','60109/notices/1566749','60109/notices/1566704','60109/notices/1566682','60109/notices/1566736','60109/notices/1566781','60109/notices/1566716','60109/notices/1566684','60109/notices/1566778','60109/notices/1566759','60109/notices/1566752','60109/notices/1566751','60109/notices/1566733','60109/notices/1566711','60109/notices/1566785','60109/notices/1566719','60109/notices/1566679','60109/notices/1566761','60109/notices/1566771','60109/notices/1566700','60109/notices/1566765','60109/notices/1566735','60109/notices/1566784','60109/notices/1566708','60109/notices/1566763','60109/notices/1566676','60109/notices/1566678','60109/notices/1566677','60109/notices/1566755','60109/notices/1566743','60109/notices/1566786','60109/notices/1566779','60109/notices/1566777','60109/notices/1566690','60109/notices/1566693','60109/notices/1566750','60109/notices/1566754','60109/notices/1566753','60109/notices/1566697','60109/notices/1566722','60109/notices/1566691','60109/notices/1566703','60109/notices/1566713','60109/notices/1566717','60109/notices/1566705','60109/notices/1566747','60109/notices/1566734','60109/notices/1566694','60109/notices/1566732','60109/notices/1566689','60108/notices/1565557','60108/notices/1565484','60108/notices/1565468','60108/notices/1565469','60108/notices/1565497','60108/notices/1565514','60108/notices/1565525','60108/notices/1565567','60108/notices/1565457','60108/notices/1565522','60108/notices/1565523','60108/notices/1565459','60108/notices/1565467','60108/notices/1565505','60108/notices/1565451','60108/notices/1565502','60108/notices/1565561','60108/notices/1565533','60108/notices/1565569','60108/notices/1565499','60108/notices/1565440','60108/notices/1565494','60108/notices/1565482','60108/notices/1565439','60108/notices/1565507','60108/notices/1565535','60108/notices/1565527','60108/notices/1565564','60108/notices/1565543','60108/notices/1565544','60108/notices/1565529','60108/notices/1565443','60108/notices/1565462','60108/notices/1565449','60108/notices/1565461','60108/notices/1565472','60108/notices/1565460','60108/notices/1565441','60108/notices/1565503','60108/notices/1565446','60108/notices/1565565','60108/notices/1565518','60108/notices/1565574','60108/notices/1565520','60108/notices/1565553','60108/notices/1565493','60108/notices/1565555','60108/notices/1565560','60108/notices/1565576','60108/notices/1565515','60108/notices/1565475','60108/notices/1565488','60108/notices/1565566','60108/notices/1565568','60108/notices/1565573','60108/notices/1565551','60108/notices/1565496','60108/notices/1565504','60108/notices/1565552','60108/notices/1565537','60108/notices/1565466','60108/notices/1565530','60108/notices/1565526','60108/notices/1565546','60108/notices/1565528','60108/notices/1565517','60108/notices/1565532','60108/notices/1565437','60108/notices/1565456','60108/notices/1565558','60108/notices/1565577','60108/notices/1565508','60108/notices/1565476','60108/notices/1565442','60108/notices/1565579','60108/notices/1565477','60108/notices/1565498','60108/notices/1565509','60108/notices/1565559','60108/notices/1565479','60108/notices/1565538','60108/notices/1565516','60108/notices/1565458','60108/notices/1565485','60108/notices/1565519','60108/notices/1565563','60108/notices/1565542','60108/notices/1565450','60108/notices/1565471','60108/notices/1565455','60108/notices/1565575','60108/notices/1565501','60108/notices/1565500','60108/notices/1565473','60108/notices/1565548','60108/notices/1565444','60108/notices/1565550','60108/notices/1565562','60108/notices/1565506','60108/notices/1565512','60108/notices/1565511','60108/notices/1565556','60108/notices/1565554','60108/notices/1565487','60108/notices/1565513','60108/notices/1565524','60108/notices/1565481','60108/notices/1565510','60108/notices/1565465','60108/notices/1565570','60108/notices/1565571','60108/notices/1565464','60108/notices/1565534','60108/notices/1565447','60108/notices/1565486','60108/notices/1565578','60108/notices/1565448','60108/notices/1565470','60108/notices/1565572','60108/notices/1565491','60108/notices/1565581','60108/notices/1565531','60108/notices/1565490','60108/notices/1565478','60108/notices/1565536','60108/notices/1565453','60108/notices/1565463','60108/notices/1565547','60108/notices/1565545','60108/notices/1565489','60108/notices/1565580','60108/notices/1565438','60108/notices/1565521','60108/notices/1565483','60108/notices/1565436','60108/notices/1565435','60108/notices/1565452','60108/notices/1565495','60108/notices/1565549','60108/notices/1565492','60108/notices/1565480','60108/notices/1565539','60108/notices/1565540','60108/notices/1565445','60108/notices/1565541','60108/notices/1565454','60108/notices/1565474','60105/notices/1564406','60105/notices/1564459','60105/notices/1564508','60105/notices/1564414','60105/notices/1564411','60105/notices/1564514','60105/notices/1564418','60105/notices/1564440','60105/notices/1564428','60105/notices/1564426','60105/notices/1564443','60105/notices/1564409','60105/notices/1564476','60105/notices/1564404','60105/notices/1564473','60105/notices/1564457','60105/notices/1564468','60105/notices/1564455','60105/notices/1564454','60105/notices/1564432','60105/notices/1564477','60105/notices/1564438','60105/notices/1564423','60105/notices/1564518','60105/notices/1564390','60105/notices/1564439','60105/notices/1564442','60105/notices/1564474','60105/notices/1564435','60105/notices/1564512','60105/notices/1564467','60105/notices/1564452','60105/notices/1564401','60105/notices/1564486','60105/notices/1564494','60105/notices/1564503','60105/notices/1564516','60105/notices/1564484','60105/notices/1564421','60105/notices/1564483','60105/notices/1564396','60105/notices/1564436','60105/notices/1564488','60105/notices/1564447','60105/notices/1564491','60105/notices/1564448','60105/notices/1564419','60105/notices/1564410','60105/notices/1564400','60105/notices/1564479','60105/notices/1564391','60105/notices/1564501','60105/notices/1564482','60105/notices/1564431','60105/notices/1564460','60105/notices/1564515','60105/notices/1564481','60105/notices/1564492','60105/notices/1564398','60105/notices/1564461','60105/notices/1564434','60105/notices/1564490','60105/notices/1564502','60105/notices/1564397','60105/notices/1564495','60105/notices/1564389','60105/notices/1564388','60105/notices/1564466','60105/notices/1564392','60105/notices/1564499','60105/notices/1564449','60105/notices/1564500','60105/notices/1564497','60105/notices/1564496','60105/notices/1564504','60105/notices/1564469','60105/notices/1564517','60105/notices/1564465','60105/notices/1564513','60105/notices/1564464','60105/notices/1564471','60105/notices/1564403','60105/notices/1564475','60105/notices/1564402','60105/notices/1564415','60105/notices/1564412','60105/notices/1564441','60105/notices/1564505','60105/notices/1564433','60105/notices/1564385','60105/notices/1564420','60105/notices/1564493','60105/notices/1564446','60105/notices/1564417','60105/notices/1564416','60105/notices/1564462','60105/notices/1564463','60105/notices/1564387','60105/notices/1564487','60105/notices/1564451','60105/notices/1564437','60105/notices/1564405','60105/notices/1564399','60105/notices/1564444','60105/notices/1564425','60105/notices/1564394','60105/notices/1564470','60105/notices/1564445','60105/notices/1564510','60105/notices/1564393','60105/notices/1564478','60105/notices/1564509','60105/notices/1564450','60105/notices/1564427','60105/notices/1564489','60105/notices/1564480','60105/notices/1564498','60105/notices/1564472','60105/notices/1564395','60105/notices/1564386','60105/notices/1564424','60105/notices/1564506','60105/notices/1564507','60105/notices/1564458','60105/notices/1564453','60105/notices/1564407','60105/notices/1564485','60105/notices/1564429','60105/notices/1564430','60105/notices/1564456','60105/notices/1564413','60105/notices/1564408','60105/notices/1564511','60105/notices/1564422','60104/notices/1563770','60104/notices/1563666','60104/notices/1563714','60104/notices/1563659','60104/notices/1563811','60104/notices/1563756','60104/notices/1563755','60104/notices/1563748','60104/notices/1563699','60104/notices/1563707','60104/notices/1563682','60104/notices/1563744','60104/notices/1563777','60104/notices/1563768','60104/notices/1563673','60104/notices/1563824','60104/notices/1563745','60104/notices/1563670','60104/notices/1563695','60104/notices/1563829','60104/notices/1563704','60104/notices/1563838','60104/notices/1563819','60104/notices/1563710','60104/notices/1563749','60104/notices/1563759','60104/notices/1563837','60104/notices/1563674','60104/notices/1563723','60104/notices/1563669','60104/notices/1563686','60104/notices/1563698','60104/notices/1563796','60104/notices/1563763','60104/notices/1563804','60104/notices/1563803','60104/notices/1563814','60104/notices/1563662','60104/notices/1563722','60104/notices/1563773','60104/notices/1563685','60104/notices/1563660','60104/notices/1563781','60104/notices/1563677','60104/notices/1563752','60104/notices/1563806','60104/notices/1563702','60104/notices/1563730','60104/notices/1563817','60104/notices/1563816','60104/notices/1563732','60104/notices/1563731','60104/notices/1563706','60104/notices/1563696','60104/notices/1563832','60104/notices/1563668','60104/notices/1563676','60104/notices/1563823','60104/notices/1563784','60104/notices/1563786','60104/notices/1563818','60104/notices/1563747','60104/notices/1563746','60104/notices/1563717','60104/notices/1563709','60104/notices/1563794','60104/notices/1563822','60104/notices/1563826','60104/notices/1563815','60104/notices/1563810','60104/notices/1563785','60104/notices/1563780','60104/notices/1563754','60104/notices/1563721','60104/notices/1563691','60104/notices/1563767','60104/notices/1563757','60104/notices/1563719','60104/notices/1563790','60104/notices/1563689','60104/notices/1563713','60104/notices/1563712','60104/notices/1563831','60104/notices/1563828','60104/notices/1563800','60104/notices/1563833','60104/notices/1563834','60104/notices/1563839','60104/notices/1563825','60104/notices/1563812','60104/notices/1563813','60104/notices/1563716','60104/notices/1563753','60104/notices/1563769','60104/notices/1563665','60104/notices/1563836','60104/notices/1563703','60104/notices/1563827','60104/notices/1563835','60104/notices/1563687','60104/notices/1563718','60104/notices/1563779','60104/notices/1563715','60104/notices/1563711','60104/notices/1563690','60104/notices/1563801','60104/notices/1563799','60104/notices/1563663','60104/notices/1563758','60104/notices/1563680','60104/notices/1563742','60104/notices/1563700','60104/notices/1563809','60104/notices/1563708','60104/notices/1563733','60104/notices/1563802','60104/notices/1563720','60104/notices/1563672','60104/notices/1563783','60104/notices/1563750','60104/notices/1563774','60104/notices/1563791','60104/notices/1563787','60104/notices/1563728','60104/notices/1563684','60104/notices/1563692','60104/notices/1563727','60104/notices/1563681','60104/notices/1563661','60104/notices/1563775','60104/notices/1563697','60104/notices/1563788','60104/notices/1563694','60104/notices/1563705','60104/notices/1563766','60104/notices/1563683','60104/notices/1563793','60104/notices/1563701','60104/notices/1563765','60104/notices/1563778','60104/notices/1563760','60104/notices/1563735','60104/notices/1563738','60104/notices/1563743','60104/notices/1563664','60104/notices/1563693','60104/notices/1563805','60104/notices/1563688','60104/notices/1563725','60104/notices/1563820','60104/notices/1563795','60104/notices/1563830','60104/notices/1563821','60104/notices/1563807','60104/notices/1563741','60104/notices/1563737','60104/notices/1563789','60104/notices/1563675','60104/notices/1563729','60104/notices/1563798','60104/notices/1563772','60104/notices/1563771','60104/notices/1563797','60104/notices/1563726','60104/notices/1563776','60104/notices/1563751','60104/notices/1563808','60104/notices/1563762','60104/notices/1563679','60104/notices/1563782','60104/notices/1563678','60104/notices/1563671','60104/notices/1563734','60104/notices/1563764','60104/notices/1563736','60104/notices/1563724','60104/notices/1563739','60104/notices/1563740','60104/notices/1563761','60104/notices/1563792','60104/notices/1563667','60103/notices/1562836','60103/notices/1562837','60103/notices/1562886','60103/notices/1562885','60103/notices/1562834','60103/notices/1562896','60103/notices/1562840','60103/notices/1562859','60103/notices/1562854','60103/notices/1562934','60103/notices/1562968','60103/notices/1562899','60103/notices/1562941','60103/notices/1562905','60103/notices/1562973','60103/notices/1562975','60103/notices/1562956','60103/notices/1562911','60103/notices/1562951','60103/notices/1562833','60103/notices/1562921','60103/notices/1562974','60103/notices/1562869','60103/notices/1562907','60103/notices/1562900','60103/notices/1562906','60103/notices/1562877','60103/notices/1562876','60103/notices/1562875','60103/notices/1562889','60103/notices/1562919','60103/notices/1562966','60103/notices/1562977','60103/notices/1562917','60103/notices/1562918','60103/notices/1562888','60103/notices/1562923','60103/notices/1562937','60103/notices/1562938','60103/notices/1562851','60103/notices/1562893','60103/notices/1562891','60103/notices/1562871','60103/notices/1562939','60103/notices/1562963','60103/notices/1562920','60103/notices/1562962','60103/notices/1562972','60103/notices/1562936','60103/notices/1562860','60103/notices/1562872','60103/notices/1562970','60103/notices/1562930','60103/notices/1562890','60103/notices/1562915','60103/notices/1562909','60103/notices/1562908','60103/notices/1562943','60103/notices/1562942','60103/notices/1562967','60103/notices/1562957','60103/notices/1562873','60103/notices/1562933','60103/notices/1562865','60103/notices/1562883','60103/notices/1562842','60103/notices/1562976','60103/notices/1562935','60103/notices/1562979','60103/notices/1562850','60103/notices/1562922','60103/notices/1562880','60103/notices/1562884','60103/notices/1562852','60103/notices/1562926','60103/notices/1562832','60103/notices/1562856','60103/notices/1562855','60103/notices/1562892','60103/notices/1562931','60103/notices/1562830','60103/notices/1562952','60103/notices/1562945','60103/notices/1562959','60103/notices/1562903','60103/notices/1562902','60103/notices/1562864','60103/notices/1562867','60103/notices/1562910','60103/notices/1562950','60103/notices/1562904','60103/notices/1562868','60103/notices/1562913','60103/notices/1562846','60103/notices/1562978','60103/notices/1562949','60103/notices/1562928','60103/notices/1562829','60103/notices/1562947','60103/notices/1562841','60103/notices/1562955','60103/notices/1562954','60103/notices/1562878','60103/notices/1562898','60103/notices/1562981','60103/notices/1562980','60103/notices/1562870','60103/notices/1562874','60103/notices/1562857','60103/notices/1562858','60103/notices/1562838','60103/notices/1562882','60103/notices/1562929','60103/notices/1562831','60103/notices/1562924','60103/notices/1562948','60103/notices/1562894','60103/notices/1562827','60103/notices/1562916','60103/notices/1562881','60103/notices/1562969','60103/notices/1562897','60103/notices/1562853','60103/notices/1562961','60103/notices/1562863','60103/notices/1562964','60103/notices/1562940','60103/notices/1562879','60103/notices/1562848','60103/notices/1562965','60103/notices/1562845','60103/notices/1562927','60103/notices/1562849','60103/notices/1562861','60103/notices/1562960','60103/notices/1562826','60103/notices/1562958','60103/notices/1562914','60103/notices/1562971','60103/notices/1562828','60103/notices/1562843','60103/notices/1562862','60103/notices/1562866','60103/notices/1562925','60103/notices/1562835','60103/notices/1562944','60103/notices/1562839','60103/notices/1562953','60103/notices/1562895','60103/notices/1562932','60103/notices/1562847','60103/notices/1562912','60103/notices/1562946','60103/notices/1562901','60103/notices/1562844','60103/notices/1562887','60102/notices/1561740','60102/notices/1561689','60102/notices/1561747','60102/notices/1561743','60102/notices/1561691','60102/notices/1561679','60102/notices/1561703','60102/notices/1561768','60102/notices/1561708','60102/notices/1561757','60102/notices/1561693','60102/notices/1561732','60102/notices/1561737','60102/notices/1561704','60102/notices/1561705','60102/notices/1561741','60102/notices/1561739','60102/notices/1561711','60102/notices/1561769','60102/notices/1561722','60102/notices/1561720','60102/notices/1561690','60102/notices/1561760','60102/notices/1561707','60102/notices/1561736','60102/notices/1561733','60102/notices/1561712','60102/notices/1561706','60102/notices/1561734','60102/notices/1561764','60102/notices/1561721','60102/notices/1561725','60102/notices/1561726','60102/notices/1561748','60102/notices/1561714','60102/notices/1561774','60102/notices/1561742','60102/notices/1561776','60102/notices/1561752','60102/notices/1561751','60102/notices/1561717','60102/notices/1561701','60102/notices/1561687','60102/notices/1561681','60102/notices/1561746','60102/notices/1561729','60102/notices/1561730','60102/notices/1561731','60102/notices/1561750','60102/notices/1561697','60102/notices/1561766','60102/notices/1561749','60102/notices/1561713','60102/notices/1561767','60102/notices/1561695','60102/notices/1561719','60102/notices/1561727','60102/notices/1561710','60102/notices/1561696','60102/notices/1561685','60102/notices/1561754','60102/notices/1561698','60102/notices/1561775','60102/notices/1561763','60102/notices/1561762','60102/notices/1561715','60102/notices/1561692','60102/notices/1561755','60102/notices/1561772','60102/notices/1561771','60102/notices/1561684','60102/notices/1561683','60102/notices/1561735','60102/notices/1561709','60102/notices/1561700','60102/notices/1561745','60102/notices/1561688','60102/notices/1561765','60102/notices/1561744','60102/notices/1561761','60102/notices/1561759','60102/notices/1561770','60102/notices/1561753','60102/notices/1561756','60102/notices/1561773','60102/notices/1561728','60102/notices/1561699','60102/notices/1561716','60102/notices/1561738','60102/notices/1561686','60102/notices/1561718','60102/notices/1561724','60102/notices/1561682','60102/notices/1561758','60102/notices/1561702','60102/notices/1561694','60102/notices/1561723','60102/notices/1561680','60100/notices/1560713','60100/notices/1560663','60100/notices/1560641','60100/notices/1560728','60100/notices/1560603','60100/notices/1560602','60100/notices/1560685','60100/notices/1560654','60100/notices/1560724','60100/notices/1560596','60100/notices/1560727','60100/notices/1560607','60100/notices/1560627','60100/notices/1560745','60100/notices/1560748','60100/notices/1560701','60100/notices/1560648','60100/notices/1560717','60100/notices/1560767','60100/notices/1560768','60100/notices/1560594','60100/notices/1560588','60100/notices/1560752','60100/notices/1560725','60100/notices/1560736','60100/notices/1560729','60100/notices/1560669','60100/notices/1560670','60100/notices/1560756','60100/notices/1560612','60100/notices/1560672','60100/notices/1560589','60100/notices/1560662','60100/notices/1560758','60100/notices/1560657','60100/notices/1560682','60100/notices/1560719','60100/notices/1560718','60100/notices/1560631','60100/notices/1560604','60100/notices/1560625','60100/notices/1560679','60100/notices/1560680','60100/notices/1560763','60100/notices/1560624','60100/notices/1560581','60100/notices/1560656','60100/notices/1560715','60100/notices/1560759','60100/notices/1560769','60100/notices/1560646','60100/notices/1560587','60100/notices/1560601','60100/notices/1560744','60100/notices/1560732','60100/notices/1560638','60100/notices/1560655','60100/notices/1560634','60100/notices/1560754','60100/notices/1560689','60100/notices/1560700','60100/notices/1560668','60100/notices/1560676','60100/notices/1560755','60100/notices/1560730','60100/notices/1560764','60100/notices/1560645','60100/notices/1560762','60100/notices/1560737','60100/notices/1560647','60100/notices/1560675','60100/notices/1560761','60100/notices/1560750','60100/notices/1560614','60100/notices/1560738','60100/notices/1560632','60100/notices/1560630','60100/notices/1560726','60100/notices/1560716','60100/notices/1560610','60100/notices/1560626','60100/notices/1560742','60100/notices/1560628','60100/notices/1560613','60100/notices/1560619','60100/notices/1560618','60100/notices/1560580','60100/notices/1560666','60100/notices/1560699','60100/notices/1560673','60100/notices/1560711','60100/notices/1560595','60100/notices/1560637','60100/notices/1560652','60100/notices/1560579','60100/notices/1560635','60100/notices/1560636','60100/notices/1560597','60100/notices/1560702','60100/notices/1560643','60100/notices/1560757','60100/notices/1560606','60100/notices/1560705','60100/notices/1560592','60100/notices/1560691','60100/notices/1560633','60100/notices/1560622','60100/notices/1560649','60100/notices/1560708','60100/notices/1560743','60100/notices/1560616','60100/notices/1560642','60100/notices/1560671','60100/notices/1560703','60100/notices/1560608','60100/notices/1560714','60100/notices/1560731','60100/notices/1560605','60100/notices/1560696','60100/notices/1560677','60100/notices/1560706','60100/notices/1560740','60100/notices/1560749','60100/notices/1560621','60100/notices/1560661','60100/notices/1560660','60100/notices/1560765','60100/notices/1560615','60100/notices/1560722','60100/notices/1560600','60100/notices/1560733','60100/notices/1560617','60100/notices/1560640','60100/notices/1560686','60100/notices/1560683','60100/notices/1560667','60100/notices/1560688','60100/notices/1560664','60100/notices/1560674','60100/notices/1560665','60100/notices/1560591','60100/notices/1560651','60100/notices/1560650','60100/notices/1560653','60100/notices/1560709','60100/notices/1560753','60100/notices/1560746','60100/notices/1560658','60100/notices/1560720','60100/notices/1560704','60100/notices/1560693','60100/notices/1560723','60100/notices/1560584','60100/notices/1560721','60100/notices/1560585','60100/notices/1560766','60100/notices/1560644','60100/notices/1560590','60100/notices/1560583','60100/notices/1560586','60100/notices/1560623','60100/notices/1560712','60100/notices/1560639','60100/notices/1560599','60100/notices/1560695','60100/notices/1560681','60100/notices/1560684','60100/notices/1560620','60100/notices/1560710','60100/notices/1560739','60100/notices/1560611','60100/notices/1560593','60100/notices/1560694','60100/notices/1560697','60100/notices/1560659','60100/notices/1560678','60100/notices/1560629','60100/notices/1560707','60100/notices/1560582','60100/notices/1560690','60100/notices/1560687','60100/notices/1560598','60100/notices/1560609','60100/notices/1560692','60100/notices/1560760','60100/notices/1560747','60100/notices/1560735','60100/notices/1560741','60100/notices/1560734','60100/notices/1560751','60100/notices/1560698']



#go through the schoolIDs array above, and for each ID...
for item in codes:
    #show it in the console
    print item
    #create a URL called 'next_link' which adds that ID to the end of the base_url variable
    next_link = base_url+item
    #pass that new concatenated URL to a function, 'scrape_page', which is scripted above
    scrape_page(next_link)

# typical URL is http://www.london-gazette.co.uk/id/issues/60112/notices/1568529
# list of URLs collected by scraper at https://scraperwiki.com/scrapers/bankruptcies/
# Downloaded as CSV and codes extracted in Google Docs by using =RIGHT(A2, 7)
# Cycle through a list of those codes, created by using the =JOIN formula in Google Docs

#If you want to understand this scraper - start at the bottom where it says 'base_url' 

import scraperwiki
#import urlparse
import lxml.html

#Create a function called 'scrape_table' which is called in the function 'scrape_page' below
#The 'scrape_page' function also passed the contents of the page to this function as 'root'
def scrape_table(root):
    #Use cssselect to find the contents of a particular HTML tag, and put it in a new object 'divdata'
    #there's more than one div, so we need to specify the class="Data", represented by the full stop
    divdata = root.cssselect("div.Data")
    for pars in divdata:
        #Create a new empty record
        record = {}
        #Assign the contents of <td> to a new object called 'table_cells'
        lines = pars.cssselect("p")
        spans = pars.cssselect("p span")
        #If there's anything
#TO ADD: AN ELSE TO ADDRESS DATE/URLCODE WHICH ARE 'OUT OF RANGE' ON SOME PAGES        
        if lines: 
            #Put the contents of the first <p> into a record in the column 'pubdate'
            record['pubdate'] = spans[0].text
            record['noticecode'] = spans[1].text
            record['name'] = spans[2].text
            record['address'] = lines[4].text
            record['DOB'] = lines[5].text
            record['description'] = lines[6].text
            record['court'] = lines[7].text
            record['dateofpetition'] = lines[8].text
            record['dateoforder'] = lines[9].text
            record['timeoforder'] = lines[10].text
            record['petitionby'] = lines[11].text
            record['receiver'] = spans[3].text
#            record['date'] = lines[13].text
#            record['urlcode'] = lines[14].text
            record['ID'] = item
            print record, '------------'
            #Save in the SQLite database, with the ID code to be used as the unique reference
            scraperwiki.sqlite.save(["ID"], record)
        


#this creates a new function and (re)names whatever parameter is passed to it - i.e. 'next_link' below - as 'url'
def scrape_page(url):
    #now 'url' is scraped with the scraperwiki library imported above, and the contents put into a new object, 'html'
    html = scraperwiki.scrape(url)
    print html
    #now we use the lxml.html function imported above to convert 'html' into a new object, 'root'
    root = lxml.html.fromstring(html)
    #now we call another function on root, which we write - above
    scrape_table(root)

#START HERE: This is the part of the URL which all our pages share
base_url = 'http://www.london-gazette.co.uk/issues/'
#And these are the numbers which we need to complete that URL to make each individual URL
#This array has been compiled using the =JOIN formula in Google Docs on a column of URL codes
codes = ['60112/notices/1568529','60112/notices/1568613','60112/notices/1568537','60112/notices/1568593','60112/notices/1568532','60112/notices/1568614','60112/notices/1568541','60112/notices/1568546','60112/notices/1568523','60112/notices/1568560','60112/notices/1568590','60112/notices/1568611','60112/notices/1568573','60112/notices/1568518','60112/notices/1568530','60112/notices/1568524','60112/notices/1568526','60112/notices/1568558','60112/notices/1568516','60112/notices/1568574','60112/notices/1568547','60112/notices/1568515','60112/notices/1568565','60112/notices/1568575','60112/notices/1568549','60112/notices/1568536','60112/notices/1568610','60112/notices/1568597','60112/notices/1568527','60112/notices/1568578','60112/notices/1568501','60112/notices/1568500','60112/notices/1568545','60112/notices/1568604','60112/notices/1568602','60112/notices/1568555','60112/notices/1568543','60112/notices/1568506','60112/notices/1568520','60112/notices/1568519','60112/notices/1568534','60112/notices/1568600','60112/notices/1568608','60112/notices/1568581','60112/notices/1568569','60112/notices/1568598','60112/notices/1568514','60112/notices/1568513','60112/notices/1568508','60112/notices/1568601','60112/notices/1568571','60112/notices/1568512','60112/notices/1568585','60112/notices/1568603','60112/notices/1568521','60112/notices/1568584','60112/notices/1568589','60112/notices/1568511','60112/notices/1568596','60112/notices/1568582','60112/notices/1568591','60112/notices/1568570','60112/notices/1568612','60112/notices/1568544','60112/notices/1568553','60112/notices/1568595','60112/notices/1568588','60112/notices/1568583','60112/notices/1568522','60112/notices/1568504','60112/notices/1568542','60112/notices/1568594','60112/notices/1568567','60112/notices/1568617','60112/notices/1568579','60112/notices/1568561','60112/notices/1568548','60112/notices/1568556','60112/notices/1568554','60112/notices/1568507','60112/notices/1568538','60112/notices/1568503','60112/notices/1568599','60112/notices/1568592','60112/notices/1568577','60112/notices/1568607','60112/notices/1568539','60112/notices/1568586','60112/notices/1568576','60112/notices/1568535','60112/notices/1568531','60112/notices/1568609','60112/notices/1568499','60112/notices/1568517','60112/notices/1568572','60112/notices/1568564','60112/notices/1568563','60112/notices/1568618','60112/notices/1568498','60112/notices/1568540','60112/notices/1568528','60112/notices/1568525','60112/notices/1568559','60112/notices/1568580','60112/notices/1568552','60112/notices/1568562','60112/notices/1568587','60112/notices/1568566','60112/notices/1568551','60112/notices/1568550','60112/notices/1568510','60112/notices/1568502','60112/notices/1568606','60112/notices/1568616','60112/notices/1568568','60112/notices/1568509','60112/notices/1568605','60112/notices/1568615','60112/notices/1568496','60112/notices/1568533','60112/notices/1568557','60110/notices/1567665','60110/notices/1567688','60110/notices/1567627','60110/notices/1567700','60110/notices/1567621','60110/notices/1567636','60110/notices/1567674','60110/notices/1567675','60110/notices/1567704','60110/notices/1567679','60110/notices/1567617','60110/notices/1567685','60110/notices/1567643','60110/notices/1567678','60110/notices/1567645','60110/notices/1567693','60110/notices/1567673','60110/notices/1567628','60110/notices/1567699','60110/notices/1567638','60110/notices/1567654','60110/notices/1567640','60110/notices/1567631','60110/notices/1567702','60110/notices/1567646','60110/notices/1567701','60110/notices/1567708','60110/notices/1567676','60110/notices/1567672','60110/notices/1567637','60110/notices/1567660','60110/notices/1567711','60110/notices/1567618','60110/notices/1567681','60110/notices/1567648','60110/notices/1567655','60110/notices/1567657','60110/notices/1567694','60110/notices/1567677','60110/notices/1567624','60110/notices/1567639','60110/notices/1567691','60110/notices/1567707','60110/notices/1567706','60110/notices/1567698','60110/notices/1567623','60110/notices/1567689','60110/notices/1567668','60110/notices/1567705','60110/notices/1567656','60110/notices/1567692','60110/notices/1567669','60110/notices/1567632','60110/notices/1567666','60110/notices/1567690','60110/notices/1567614','60110/notices/1567658','60110/notices/1567712','60110/notices/1567663','60110/notices/1567697','60110/notices/1567670','60110/notices/1567649','60110/notices/1567686','60110/notices/1567653','60110/notices/1567687','60110/notices/1567713','60110/notices/1567683','60110/notices/1567684','60110/notices/1567635','60110/notices/1567695','60110/notices/1567619','60110/notices/1567667','60110/notices/1567671','60110/notices/1567634','60110/notices/1567642','60110/notices/1567696','60110/notices/1567714','60110/notices/1567710','60110/notices/1567709','60110/notices/1567630','60110/notices/1567703','60110/notices/1567652','60110/notices/1567651','60110/notices/1567680','60110/notices/1567629','60110/notices/1567661','60110/notices/1567664','60110/notices/1567644','60110/notices/1567641','60110/notices/1567659','60110/notices/1567620','60110/notices/1567622','60110/notices/1567613','60110/notices/1567616','60110/notices/1567633','60110/notices/1567650','60110/notices/1567615','60110/notices/1567662','60110/notices/1567682','60110/notices/1567647','60110/notices/1567626','60110/notices/1567625','60109/notices/1566760','60109/notices/1566714','60109/notices/1566762','60109/notices/1566698','60109/notices/1566764','60109/notices/1566756','60109/notices/1566687','60109/notices/1566774','60109/notices/1566773','60109/notices/1566707','60109/notices/1566741','60109/notices/1566748','60109/notices/1566723','60109/notices/1566729','60109/notices/1566728','60109/notices/1566745','60109/notices/1566769','60109/notices/1566768','60109/notices/1566772','60109/notices/1566783','60109/notices/1566730','60109/notices/1566681','60109/notices/1566746','60109/notices/1566766','60109/notices/1566721','60109/notices/1566739','60109/notices/1566738','60109/notices/1566715','60109/notices/1566718','60109/notices/1566685','60109/notices/1566706','60109/notices/1566726','60109/notices/1566709','60109/notices/1566712','60109/notices/1566710','60109/notices/1566702','60109/notices/1566780','60109/notices/1566688','60109/notices/1566680','60109/notices/1566770','60109/notices/1566731','60109/notices/1566742','60109/notices/1566720','60109/notices/1566724','60109/notices/1566758','60109/notices/1566727','60109/notices/1566696','60109/notices/1566695','60109/notices/1566497','60109/notices/1566757','60109/notices/1566782','60109/notices/1566737','60109/notices/1566740','60109/notices/1566725','60109/notices/1566767','60109/notices/1566692','60109/notices/1566775','60109/notices/1566686','60109/notices/1566744','60109/notices/1566699','60109/notices/1566701','60109/notices/1566787','60109/notices/1566683','60109/notices/1566776','60109/notices/1566749','60109/notices/1566704','60109/notices/1566682','60109/notices/1566736','60109/notices/1566781','60109/notices/1566716','60109/notices/1566684','60109/notices/1566778','60109/notices/1566759','60109/notices/1566752','60109/notices/1566751','60109/notices/1566733','60109/notices/1566711','60109/notices/1566785','60109/notices/1566719','60109/notices/1566679','60109/notices/1566761','60109/notices/1566771','60109/notices/1566700','60109/notices/1566765','60109/notices/1566735','60109/notices/1566784','60109/notices/1566708','60109/notices/1566763','60109/notices/1566676','60109/notices/1566678','60109/notices/1566677','60109/notices/1566755','60109/notices/1566743','60109/notices/1566786','60109/notices/1566779','60109/notices/1566777','60109/notices/1566690','60109/notices/1566693','60109/notices/1566750','60109/notices/1566754','60109/notices/1566753','60109/notices/1566697','60109/notices/1566722','60109/notices/1566691','60109/notices/1566703','60109/notices/1566713','60109/notices/1566717','60109/notices/1566705','60109/notices/1566747','60109/notices/1566734','60109/notices/1566694','60109/notices/1566732','60109/notices/1566689','60108/notices/1565557','60108/notices/1565484','60108/notices/1565468','60108/notices/1565469','60108/notices/1565497','60108/notices/1565514','60108/notices/1565525','60108/notices/1565567','60108/notices/1565457','60108/notices/1565522','60108/notices/1565523','60108/notices/1565459','60108/notices/1565467','60108/notices/1565505','60108/notices/1565451','60108/notices/1565502','60108/notices/1565561','60108/notices/1565533','60108/notices/1565569','60108/notices/1565499','60108/notices/1565440','60108/notices/1565494','60108/notices/1565482','60108/notices/1565439','60108/notices/1565507','60108/notices/1565535','60108/notices/1565527','60108/notices/1565564','60108/notices/1565543','60108/notices/1565544','60108/notices/1565529','60108/notices/1565443','60108/notices/1565462','60108/notices/1565449','60108/notices/1565461','60108/notices/1565472','60108/notices/1565460','60108/notices/1565441','60108/notices/1565503','60108/notices/1565446','60108/notices/1565565','60108/notices/1565518','60108/notices/1565574','60108/notices/1565520','60108/notices/1565553','60108/notices/1565493','60108/notices/1565555','60108/notices/1565560','60108/notices/1565576','60108/notices/1565515','60108/notices/1565475','60108/notices/1565488','60108/notices/1565566','60108/notices/1565568','60108/notices/1565573','60108/notices/1565551','60108/notices/1565496','60108/notices/1565504','60108/notices/1565552','60108/notices/1565537','60108/notices/1565466','60108/notices/1565530','60108/notices/1565526','60108/notices/1565546','60108/notices/1565528','60108/notices/1565517','60108/notices/1565532','60108/notices/1565437','60108/notices/1565456','60108/notices/1565558','60108/notices/1565577','60108/notices/1565508','60108/notices/1565476','60108/notices/1565442','60108/notices/1565579','60108/notices/1565477','60108/notices/1565498','60108/notices/1565509','60108/notices/1565559','60108/notices/1565479','60108/notices/1565538','60108/notices/1565516','60108/notices/1565458','60108/notices/1565485','60108/notices/1565519','60108/notices/1565563','60108/notices/1565542','60108/notices/1565450','60108/notices/1565471','60108/notices/1565455','60108/notices/1565575','60108/notices/1565501','60108/notices/1565500','60108/notices/1565473','60108/notices/1565548','60108/notices/1565444','60108/notices/1565550','60108/notices/1565562','60108/notices/1565506','60108/notices/1565512','60108/notices/1565511','60108/notices/1565556','60108/notices/1565554','60108/notices/1565487','60108/notices/1565513','60108/notices/1565524','60108/notices/1565481','60108/notices/1565510','60108/notices/1565465','60108/notices/1565570','60108/notices/1565571','60108/notices/1565464','60108/notices/1565534','60108/notices/1565447','60108/notices/1565486','60108/notices/1565578','60108/notices/1565448','60108/notices/1565470','60108/notices/1565572','60108/notices/1565491','60108/notices/1565581','60108/notices/1565531','60108/notices/1565490','60108/notices/1565478','60108/notices/1565536','60108/notices/1565453','60108/notices/1565463','60108/notices/1565547','60108/notices/1565545','60108/notices/1565489','60108/notices/1565580','60108/notices/1565438','60108/notices/1565521','60108/notices/1565483','60108/notices/1565436','60108/notices/1565435','60108/notices/1565452','60108/notices/1565495','60108/notices/1565549','60108/notices/1565492','60108/notices/1565480','60108/notices/1565539','60108/notices/1565540','60108/notices/1565445','60108/notices/1565541','60108/notices/1565454','60108/notices/1565474','60105/notices/1564406','60105/notices/1564459','60105/notices/1564508','60105/notices/1564414','60105/notices/1564411','60105/notices/1564514','60105/notices/1564418','60105/notices/1564440','60105/notices/1564428','60105/notices/1564426','60105/notices/1564443','60105/notices/1564409','60105/notices/1564476','60105/notices/1564404','60105/notices/1564473','60105/notices/1564457','60105/notices/1564468','60105/notices/1564455','60105/notices/1564454','60105/notices/1564432','60105/notices/1564477','60105/notices/1564438','60105/notices/1564423','60105/notices/1564518','60105/notices/1564390','60105/notices/1564439','60105/notices/1564442','60105/notices/1564474','60105/notices/1564435','60105/notices/1564512','60105/notices/1564467','60105/notices/1564452','60105/notices/1564401','60105/notices/1564486','60105/notices/1564494','60105/notices/1564503','60105/notices/1564516','60105/notices/1564484','60105/notices/1564421','60105/notices/1564483','60105/notices/1564396','60105/notices/1564436','60105/notices/1564488','60105/notices/1564447','60105/notices/1564491','60105/notices/1564448','60105/notices/1564419','60105/notices/1564410','60105/notices/1564400','60105/notices/1564479','60105/notices/1564391','60105/notices/1564501','60105/notices/1564482','60105/notices/1564431','60105/notices/1564460','60105/notices/1564515','60105/notices/1564481','60105/notices/1564492','60105/notices/1564398','60105/notices/1564461','60105/notices/1564434','60105/notices/1564490','60105/notices/1564502','60105/notices/1564397','60105/notices/1564495','60105/notices/1564389','60105/notices/1564388','60105/notices/1564466','60105/notices/1564392','60105/notices/1564499','60105/notices/1564449','60105/notices/1564500','60105/notices/1564497','60105/notices/1564496','60105/notices/1564504','60105/notices/1564469','60105/notices/1564517','60105/notices/1564465','60105/notices/1564513','60105/notices/1564464','60105/notices/1564471','60105/notices/1564403','60105/notices/1564475','60105/notices/1564402','60105/notices/1564415','60105/notices/1564412','60105/notices/1564441','60105/notices/1564505','60105/notices/1564433','60105/notices/1564385','60105/notices/1564420','60105/notices/1564493','60105/notices/1564446','60105/notices/1564417','60105/notices/1564416','60105/notices/1564462','60105/notices/1564463','60105/notices/1564387','60105/notices/1564487','60105/notices/1564451','60105/notices/1564437','60105/notices/1564405','60105/notices/1564399','60105/notices/1564444','60105/notices/1564425','60105/notices/1564394','60105/notices/1564470','60105/notices/1564445','60105/notices/1564510','60105/notices/1564393','60105/notices/1564478','60105/notices/1564509','60105/notices/1564450','60105/notices/1564427','60105/notices/1564489','60105/notices/1564480','60105/notices/1564498','60105/notices/1564472','60105/notices/1564395','60105/notices/1564386','60105/notices/1564424','60105/notices/1564506','60105/notices/1564507','60105/notices/1564458','60105/notices/1564453','60105/notices/1564407','60105/notices/1564485','60105/notices/1564429','60105/notices/1564430','60105/notices/1564456','60105/notices/1564413','60105/notices/1564408','60105/notices/1564511','60105/notices/1564422','60104/notices/1563770','60104/notices/1563666','60104/notices/1563714','60104/notices/1563659','60104/notices/1563811','60104/notices/1563756','60104/notices/1563755','60104/notices/1563748','60104/notices/1563699','60104/notices/1563707','60104/notices/1563682','60104/notices/1563744','60104/notices/1563777','60104/notices/1563768','60104/notices/1563673','60104/notices/1563824','60104/notices/1563745','60104/notices/1563670','60104/notices/1563695','60104/notices/1563829','60104/notices/1563704','60104/notices/1563838','60104/notices/1563819','60104/notices/1563710','60104/notices/1563749','60104/notices/1563759','60104/notices/1563837','60104/notices/1563674','60104/notices/1563723','60104/notices/1563669','60104/notices/1563686','60104/notices/1563698','60104/notices/1563796','60104/notices/1563763','60104/notices/1563804','60104/notices/1563803','60104/notices/1563814','60104/notices/1563662','60104/notices/1563722','60104/notices/1563773','60104/notices/1563685','60104/notices/1563660','60104/notices/1563781','60104/notices/1563677','60104/notices/1563752','60104/notices/1563806','60104/notices/1563702','60104/notices/1563730','60104/notices/1563817','60104/notices/1563816','60104/notices/1563732','60104/notices/1563731','60104/notices/1563706','60104/notices/1563696','60104/notices/1563832','60104/notices/1563668','60104/notices/1563676','60104/notices/1563823','60104/notices/1563784','60104/notices/1563786','60104/notices/1563818','60104/notices/1563747','60104/notices/1563746','60104/notices/1563717','60104/notices/1563709','60104/notices/1563794','60104/notices/1563822','60104/notices/1563826','60104/notices/1563815','60104/notices/1563810','60104/notices/1563785','60104/notices/1563780','60104/notices/1563754','60104/notices/1563721','60104/notices/1563691','60104/notices/1563767','60104/notices/1563757','60104/notices/1563719','60104/notices/1563790','60104/notices/1563689','60104/notices/1563713','60104/notices/1563712','60104/notices/1563831','60104/notices/1563828','60104/notices/1563800','60104/notices/1563833','60104/notices/1563834','60104/notices/1563839','60104/notices/1563825','60104/notices/1563812','60104/notices/1563813','60104/notices/1563716','60104/notices/1563753','60104/notices/1563769','60104/notices/1563665','60104/notices/1563836','60104/notices/1563703','60104/notices/1563827','60104/notices/1563835','60104/notices/1563687','60104/notices/1563718','60104/notices/1563779','60104/notices/1563715','60104/notices/1563711','60104/notices/1563690','60104/notices/1563801','60104/notices/1563799','60104/notices/1563663','60104/notices/1563758','60104/notices/1563680','60104/notices/1563742','60104/notices/1563700','60104/notices/1563809','60104/notices/1563708','60104/notices/1563733','60104/notices/1563802','60104/notices/1563720','60104/notices/1563672','60104/notices/1563783','60104/notices/1563750','60104/notices/1563774','60104/notices/1563791','60104/notices/1563787','60104/notices/1563728','60104/notices/1563684','60104/notices/1563692','60104/notices/1563727','60104/notices/1563681','60104/notices/1563661','60104/notices/1563775','60104/notices/1563697','60104/notices/1563788','60104/notices/1563694','60104/notices/1563705','60104/notices/1563766','60104/notices/1563683','60104/notices/1563793','60104/notices/1563701','60104/notices/1563765','60104/notices/1563778','60104/notices/1563760','60104/notices/1563735','60104/notices/1563738','60104/notices/1563743','60104/notices/1563664','60104/notices/1563693','60104/notices/1563805','60104/notices/1563688','60104/notices/1563725','60104/notices/1563820','60104/notices/1563795','60104/notices/1563830','60104/notices/1563821','60104/notices/1563807','60104/notices/1563741','60104/notices/1563737','60104/notices/1563789','60104/notices/1563675','60104/notices/1563729','60104/notices/1563798','60104/notices/1563772','60104/notices/1563771','60104/notices/1563797','60104/notices/1563726','60104/notices/1563776','60104/notices/1563751','60104/notices/1563808','60104/notices/1563762','60104/notices/1563679','60104/notices/1563782','60104/notices/1563678','60104/notices/1563671','60104/notices/1563734','60104/notices/1563764','60104/notices/1563736','60104/notices/1563724','60104/notices/1563739','60104/notices/1563740','60104/notices/1563761','60104/notices/1563792','60104/notices/1563667','60103/notices/1562836','60103/notices/1562837','60103/notices/1562886','60103/notices/1562885','60103/notices/1562834','60103/notices/1562896','60103/notices/1562840','60103/notices/1562859','60103/notices/1562854','60103/notices/1562934','60103/notices/1562968','60103/notices/1562899','60103/notices/1562941','60103/notices/1562905','60103/notices/1562973','60103/notices/1562975','60103/notices/1562956','60103/notices/1562911','60103/notices/1562951','60103/notices/1562833','60103/notices/1562921','60103/notices/1562974','60103/notices/1562869','60103/notices/1562907','60103/notices/1562900','60103/notices/1562906','60103/notices/1562877','60103/notices/1562876','60103/notices/1562875','60103/notices/1562889','60103/notices/1562919','60103/notices/1562966','60103/notices/1562977','60103/notices/1562917','60103/notices/1562918','60103/notices/1562888','60103/notices/1562923','60103/notices/1562937','60103/notices/1562938','60103/notices/1562851','60103/notices/1562893','60103/notices/1562891','60103/notices/1562871','60103/notices/1562939','60103/notices/1562963','60103/notices/1562920','60103/notices/1562962','60103/notices/1562972','60103/notices/1562936','60103/notices/1562860','60103/notices/1562872','60103/notices/1562970','60103/notices/1562930','60103/notices/1562890','60103/notices/1562915','60103/notices/1562909','60103/notices/1562908','60103/notices/1562943','60103/notices/1562942','60103/notices/1562967','60103/notices/1562957','60103/notices/1562873','60103/notices/1562933','60103/notices/1562865','60103/notices/1562883','60103/notices/1562842','60103/notices/1562976','60103/notices/1562935','60103/notices/1562979','60103/notices/1562850','60103/notices/1562922','60103/notices/1562880','60103/notices/1562884','60103/notices/1562852','60103/notices/1562926','60103/notices/1562832','60103/notices/1562856','60103/notices/1562855','60103/notices/1562892','60103/notices/1562931','60103/notices/1562830','60103/notices/1562952','60103/notices/1562945','60103/notices/1562959','60103/notices/1562903','60103/notices/1562902','60103/notices/1562864','60103/notices/1562867','60103/notices/1562910','60103/notices/1562950','60103/notices/1562904','60103/notices/1562868','60103/notices/1562913','60103/notices/1562846','60103/notices/1562978','60103/notices/1562949','60103/notices/1562928','60103/notices/1562829','60103/notices/1562947','60103/notices/1562841','60103/notices/1562955','60103/notices/1562954','60103/notices/1562878','60103/notices/1562898','60103/notices/1562981','60103/notices/1562980','60103/notices/1562870','60103/notices/1562874','60103/notices/1562857','60103/notices/1562858','60103/notices/1562838','60103/notices/1562882','60103/notices/1562929','60103/notices/1562831','60103/notices/1562924','60103/notices/1562948','60103/notices/1562894','60103/notices/1562827','60103/notices/1562916','60103/notices/1562881','60103/notices/1562969','60103/notices/1562897','60103/notices/1562853','60103/notices/1562961','60103/notices/1562863','60103/notices/1562964','60103/notices/1562940','60103/notices/1562879','60103/notices/1562848','60103/notices/1562965','60103/notices/1562845','60103/notices/1562927','60103/notices/1562849','60103/notices/1562861','60103/notices/1562960','60103/notices/1562826','60103/notices/1562958','60103/notices/1562914','60103/notices/1562971','60103/notices/1562828','60103/notices/1562843','60103/notices/1562862','60103/notices/1562866','60103/notices/1562925','60103/notices/1562835','60103/notices/1562944','60103/notices/1562839','60103/notices/1562953','60103/notices/1562895','60103/notices/1562932','60103/notices/1562847','60103/notices/1562912','60103/notices/1562946','60103/notices/1562901','60103/notices/1562844','60103/notices/1562887','60102/notices/1561740','60102/notices/1561689','60102/notices/1561747','60102/notices/1561743','60102/notices/1561691','60102/notices/1561679','60102/notices/1561703','60102/notices/1561768','60102/notices/1561708','60102/notices/1561757','60102/notices/1561693','60102/notices/1561732','60102/notices/1561737','60102/notices/1561704','60102/notices/1561705','60102/notices/1561741','60102/notices/1561739','60102/notices/1561711','60102/notices/1561769','60102/notices/1561722','60102/notices/1561720','60102/notices/1561690','60102/notices/1561760','60102/notices/1561707','60102/notices/1561736','60102/notices/1561733','60102/notices/1561712','60102/notices/1561706','60102/notices/1561734','60102/notices/1561764','60102/notices/1561721','60102/notices/1561725','60102/notices/1561726','60102/notices/1561748','60102/notices/1561714','60102/notices/1561774','60102/notices/1561742','60102/notices/1561776','60102/notices/1561752','60102/notices/1561751','60102/notices/1561717','60102/notices/1561701','60102/notices/1561687','60102/notices/1561681','60102/notices/1561746','60102/notices/1561729','60102/notices/1561730','60102/notices/1561731','60102/notices/1561750','60102/notices/1561697','60102/notices/1561766','60102/notices/1561749','60102/notices/1561713','60102/notices/1561767','60102/notices/1561695','60102/notices/1561719','60102/notices/1561727','60102/notices/1561710','60102/notices/1561696','60102/notices/1561685','60102/notices/1561754','60102/notices/1561698','60102/notices/1561775','60102/notices/1561763','60102/notices/1561762','60102/notices/1561715','60102/notices/1561692','60102/notices/1561755','60102/notices/1561772','60102/notices/1561771','60102/notices/1561684','60102/notices/1561683','60102/notices/1561735','60102/notices/1561709','60102/notices/1561700','60102/notices/1561745','60102/notices/1561688','60102/notices/1561765','60102/notices/1561744','60102/notices/1561761','60102/notices/1561759','60102/notices/1561770','60102/notices/1561753','60102/notices/1561756','60102/notices/1561773','60102/notices/1561728','60102/notices/1561699','60102/notices/1561716','60102/notices/1561738','60102/notices/1561686','60102/notices/1561718','60102/notices/1561724','60102/notices/1561682','60102/notices/1561758','60102/notices/1561702','60102/notices/1561694','60102/notices/1561723','60102/notices/1561680','60100/notices/1560713','60100/notices/1560663','60100/notices/1560641','60100/notices/1560728','60100/notices/1560603','60100/notices/1560602','60100/notices/1560685','60100/notices/1560654','60100/notices/1560724','60100/notices/1560596','60100/notices/1560727','60100/notices/1560607','60100/notices/1560627','60100/notices/1560745','60100/notices/1560748','60100/notices/1560701','60100/notices/1560648','60100/notices/1560717','60100/notices/1560767','60100/notices/1560768','60100/notices/1560594','60100/notices/1560588','60100/notices/1560752','60100/notices/1560725','60100/notices/1560736','60100/notices/1560729','60100/notices/1560669','60100/notices/1560670','60100/notices/1560756','60100/notices/1560612','60100/notices/1560672','60100/notices/1560589','60100/notices/1560662','60100/notices/1560758','60100/notices/1560657','60100/notices/1560682','60100/notices/1560719','60100/notices/1560718','60100/notices/1560631','60100/notices/1560604','60100/notices/1560625','60100/notices/1560679','60100/notices/1560680','60100/notices/1560763','60100/notices/1560624','60100/notices/1560581','60100/notices/1560656','60100/notices/1560715','60100/notices/1560759','60100/notices/1560769','60100/notices/1560646','60100/notices/1560587','60100/notices/1560601','60100/notices/1560744','60100/notices/1560732','60100/notices/1560638','60100/notices/1560655','60100/notices/1560634','60100/notices/1560754','60100/notices/1560689','60100/notices/1560700','60100/notices/1560668','60100/notices/1560676','60100/notices/1560755','60100/notices/1560730','60100/notices/1560764','60100/notices/1560645','60100/notices/1560762','60100/notices/1560737','60100/notices/1560647','60100/notices/1560675','60100/notices/1560761','60100/notices/1560750','60100/notices/1560614','60100/notices/1560738','60100/notices/1560632','60100/notices/1560630','60100/notices/1560726','60100/notices/1560716','60100/notices/1560610','60100/notices/1560626','60100/notices/1560742','60100/notices/1560628','60100/notices/1560613','60100/notices/1560619','60100/notices/1560618','60100/notices/1560580','60100/notices/1560666','60100/notices/1560699','60100/notices/1560673','60100/notices/1560711','60100/notices/1560595','60100/notices/1560637','60100/notices/1560652','60100/notices/1560579','60100/notices/1560635','60100/notices/1560636','60100/notices/1560597','60100/notices/1560702','60100/notices/1560643','60100/notices/1560757','60100/notices/1560606','60100/notices/1560705','60100/notices/1560592','60100/notices/1560691','60100/notices/1560633','60100/notices/1560622','60100/notices/1560649','60100/notices/1560708','60100/notices/1560743','60100/notices/1560616','60100/notices/1560642','60100/notices/1560671','60100/notices/1560703','60100/notices/1560608','60100/notices/1560714','60100/notices/1560731','60100/notices/1560605','60100/notices/1560696','60100/notices/1560677','60100/notices/1560706','60100/notices/1560740','60100/notices/1560749','60100/notices/1560621','60100/notices/1560661','60100/notices/1560660','60100/notices/1560765','60100/notices/1560615','60100/notices/1560722','60100/notices/1560600','60100/notices/1560733','60100/notices/1560617','60100/notices/1560640','60100/notices/1560686','60100/notices/1560683','60100/notices/1560667','60100/notices/1560688','60100/notices/1560664','60100/notices/1560674','60100/notices/1560665','60100/notices/1560591','60100/notices/1560651','60100/notices/1560650','60100/notices/1560653','60100/notices/1560709','60100/notices/1560753','60100/notices/1560746','60100/notices/1560658','60100/notices/1560720','60100/notices/1560704','60100/notices/1560693','60100/notices/1560723','60100/notices/1560584','60100/notices/1560721','60100/notices/1560585','60100/notices/1560766','60100/notices/1560644','60100/notices/1560590','60100/notices/1560583','60100/notices/1560586','60100/notices/1560623','60100/notices/1560712','60100/notices/1560639','60100/notices/1560599','60100/notices/1560695','60100/notices/1560681','60100/notices/1560684','60100/notices/1560620','60100/notices/1560710','60100/notices/1560739','60100/notices/1560611','60100/notices/1560593','60100/notices/1560694','60100/notices/1560697','60100/notices/1560659','60100/notices/1560678','60100/notices/1560629','60100/notices/1560707','60100/notices/1560582','60100/notices/1560690','60100/notices/1560687','60100/notices/1560598','60100/notices/1560609','60100/notices/1560692','60100/notices/1560760','60100/notices/1560747','60100/notices/1560735','60100/notices/1560741','60100/notices/1560734','60100/notices/1560751','60100/notices/1560698']



#go through the schoolIDs array above, and for each ID...
for item in codes:
    #show it in the console
    print item
    #create a URL called 'next_link' which adds that ID to the end of the base_url variable
    next_link = base_url+item
    #pass that new concatenated URL to a function, 'scrape_page', which is scripted above
    scrape_page(next_link)

# typical URL is http://www.london-gazette.co.uk/id/issues/60112/notices/1568529
# list of URLs collected by scraper at https://scraperwiki.com/scrapers/bankruptcies/
# Downloaded as CSV and codes extracted in Google Docs by using =RIGHT(A2, 7)
# Cycle through a list of those codes, created by using the =JOIN formula in Google Docs

#If you want to understand this scraper - start at the bottom where it says 'base_url' 

import scraperwiki
#import urlparse
import lxml.html

#Create a function called 'scrape_table' which is called in the function 'scrape_page' below
#The 'scrape_page' function also passed the contents of the page to this function as 'root'
def scrape_table(root):
    #Use cssselect to find the contents of a particular HTML tag, and put it in a new object 'divdata'
    #there's more than one div, so we need to specify the class="Data", represented by the full stop
    divdata = root.cssselect("div.Data")
    for pars in divdata:
        #Create a new empty record
        record = {}
        #Assign the contents of <td> to a new object called 'table_cells'
        lines = pars.cssselect("p")
        spans = pars.cssselect("p span")
        #If there's anything
#TO ADD: AN ELSE TO ADDRESS DATE/URLCODE WHICH ARE 'OUT OF RANGE' ON SOME PAGES        
        if lines: 
            #Put the contents of the first <p> into a record in the column 'pubdate'
            record['pubdate'] = spans[0].text
            record['noticecode'] = spans[1].text
            record['name'] = spans[2].text
            record['address'] = lines[4].text
            record['DOB'] = lines[5].text
            record['description'] = lines[6].text
            record['court'] = lines[7].text
            record['dateofpetition'] = lines[8].text
            record['dateoforder'] = lines[9].text
            record['timeoforder'] = lines[10].text
            record['petitionby'] = lines[11].text
            record['receiver'] = spans[3].text
#            record['date'] = lines[13].text
#            record['urlcode'] = lines[14].text
            record['ID'] = item
            print record, '------------'
            #Save in the SQLite database, with the ID code to be used as the unique reference
            scraperwiki.sqlite.save(["ID"], record)
        


#this creates a new function and (re)names whatever parameter is passed to it - i.e. 'next_link' below - as 'url'
def scrape_page(url):
    #now 'url' is scraped with the scraperwiki library imported above, and the contents put into a new object, 'html'
    html = scraperwiki.scrape(url)
    print html
    #now we use the lxml.html function imported above to convert 'html' into a new object, 'root'
    root = lxml.html.fromstring(html)
    #now we call another function on root, which we write - above
    scrape_table(root)

#START HERE: This is the part of the URL which all our pages share
base_url = 'http://www.london-gazette.co.uk/issues/'
#And these are the numbers which we need to complete that URL to make each individual URL
#This array has been compiled using the =JOIN formula in Google Docs on a column of URL codes
codes = ['60112/notices/1568529','60112/notices/1568613','60112/notices/1568537','60112/notices/1568593','60112/notices/1568532','60112/notices/1568614','60112/notices/1568541','60112/notices/1568546','60112/notices/1568523','60112/notices/1568560','60112/notices/1568590','60112/notices/1568611','60112/notices/1568573','60112/notices/1568518','60112/notices/1568530','60112/notices/1568524','60112/notices/1568526','60112/notices/1568558','60112/notices/1568516','60112/notices/1568574','60112/notices/1568547','60112/notices/1568515','60112/notices/1568565','60112/notices/1568575','60112/notices/1568549','60112/notices/1568536','60112/notices/1568610','60112/notices/1568597','60112/notices/1568527','60112/notices/1568578','60112/notices/1568501','60112/notices/1568500','60112/notices/1568545','60112/notices/1568604','60112/notices/1568602','60112/notices/1568555','60112/notices/1568543','60112/notices/1568506','60112/notices/1568520','60112/notices/1568519','60112/notices/1568534','60112/notices/1568600','60112/notices/1568608','60112/notices/1568581','60112/notices/1568569','60112/notices/1568598','60112/notices/1568514','60112/notices/1568513','60112/notices/1568508','60112/notices/1568601','60112/notices/1568571','60112/notices/1568512','60112/notices/1568585','60112/notices/1568603','60112/notices/1568521','60112/notices/1568584','60112/notices/1568589','60112/notices/1568511','60112/notices/1568596','60112/notices/1568582','60112/notices/1568591','60112/notices/1568570','60112/notices/1568612','60112/notices/1568544','60112/notices/1568553','60112/notices/1568595','60112/notices/1568588','60112/notices/1568583','60112/notices/1568522','60112/notices/1568504','60112/notices/1568542','60112/notices/1568594','60112/notices/1568567','60112/notices/1568617','60112/notices/1568579','60112/notices/1568561','60112/notices/1568548','60112/notices/1568556','60112/notices/1568554','60112/notices/1568507','60112/notices/1568538','60112/notices/1568503','60112/notices/1568599','60112/notices/1568592','60112/notices/1568577','60112/notices/1568607','60112/notices/1568539','60112/notices/1568586','60112/notices/1568576','60112/notices/1568535','60112/notices/1568531','60112/notices/1568609','60112/notices/1568499','60112/notices/1568517','60112/notices/1568572','60112/notices/1568564','60112/notices/1568563','60112/notices/1568618','60112/notices/1568498','60112/notices/1568540','60112/notices/1568528','60112/notices/1568525','60112/notices/1568559','60112/notices/1568580','60112/notices/1568552','60112/notices/1568562','60112/notices/1568587','60112/notices/1568566','60112/notices/1568551','60112/notices/1568550','60112/notices/1568510','60112/notices/1568502','60112/notices/1568606','60112/notices/1568616','60112/notices/1568568','60112/notices/1568509','60112/notices/1568605','60112/notices/1568615','60112/notices/1568496','60112/notices/1568533','60112/notices/1568557','60110/notices/1567665','60110/notices/1567688','60110/notices/1567627','60110/notices/1567700','60110/notices/1567621','60110/notices/1567636','60110/notices/1567674','60110/notices/1567675','60110/notices/1567704','60110/notices/1567679','60110/notices/1567617','60110/notices/1567685','60110/notices/1567643','60110/notices/1567678','60110/notices/1567645','60110/notices/1567693','60110/notices/1567673','60110/notices/1567628','60110/notices/1567699','60110/notices/1567638','60110/notices/1567654','60110/notices/1567640','60110/notices/1567631','60110/notices/1567702','60110/notices/1567646','60110/notices/1567701','60110/notices/1567708','60110/notices/1567676','60110/notices/1567672','60110/notices/1567637','60110/notices/1567660','60110/notices/1567711','60110/notices/1567618','60110/notices/1567681','60110/notices/1567648','60110/notices/1567655','60110/notices/1567657','60110/notices/1567694','60110/notices/1567677','60110/notices/1567624','60110/notices/1567639','60110/notices/1567691','60110/notices/1567707','60110/notices/1567706','60110/notices/1567698','60110/notices/1567623','60110/notices/1567689','60110/notices/1567668','60110/notices/1567705','60110/notices/1567656','60110/notices/1567692','60110/notices/1567669','60110/notices/1567632','60110/notices/1567666','60110/notices/1567690','60110/notices/1567614','60110/notices/1567658','60110/notices/1567712','60110/notices/1567663','60110/notices/1567697','60110/notices/1567670','60110/notices/1567649','60110/notices/1567686','60110/notices/1567653','60110/notices/1567687','60110/notices/1567713','60110/notices/1567683','60110/notices/1567684','60110/notices/1567635','60110/notices/1567695','60110/notices/1567619','60110/notices/1567667','60110/notices/1567671','60110/notices/1567634','60110/notices/1567642','60110/notices/1567696','60110/notices/1567714','60110/notices/1567710','60110/notices/1567709','60110/notices/1567630','60110/notices/1567703','60110/notices/1567652','60110/notices/1567651','60110/notices/1567680','60110/notices/1567629','60110/notices/1567661','60110/notices/1567664','60110/notices/1567644','60110/notices/1567641','60110/notices/1567659','60110/notices/1567620','60110/notices/1567622','60110/notices/1567613','60110/notices/1567616','60110/notices/1567633','60110/notices/1567650','60110/notices/1567615','60110/notices/1567662','60110/notices/1567682','60110/notices/1567647','60110/notices/1567626','60110/notices/1567625','60109/notices/1566760','60109/notices/1566714','60109/notices/1566762','60109/notices/1566698','60109/notices/1566764','60109/notices/1566756','60109/notices/1566687','60109/notices/1566774','60109/notices/1566773','60109/notices/1566707','60109/notices/1566741','60109/notices/1566748','60109/notices/1566723','60109/notices/1566729','60109/notices/1566728','60109/notices/1566745','60109/notices/1566769','60109/notices/1566768','60109/notices/1566772','60109/notices/1566783','60109/notices/1566730','60109/notices/1566681','60109/notices/1566746','60109/notices/1566766','60109/notices/1566721','60109/notices/1566739','60109/notices/1566738','60109/notices/1566715','60109/notices/1566718','60109/notices/1566685','60109/notices/1566706','60109/notices/1566726','60109/notices/1566709','60109/notices/1566712','60109/notices/1566710','60109/notices/1566702','60109/notices/1566780','60109/notices/1566688','60109/notices/1566680','60109/notices/1566770','60109/notices/1566731','60109/notices/1566742','60109/notices/1566720','60109/notices/1566724','60109/notices/1566758','60109/notices/1566727','60109/notices/1566696','60109/notices/1566695','60109/notices/1566497','60109/notices/1566757','60109/notices/1566782','60109/notices/1566737','60109/notices/1566740','60109/notices/1566725','60109/notices/1566767','60109/notices/1566692','60109/notices/1566775','60109/notices/1566686','60109/notices/1566744','60109/notices/1566699','60109/notices/1566701','60109/notices/1566787','60109/notices/1566683','60109/notices/1566776','60109/notices/1566749','60109/notices/1566704','60109/notices/1566682','60109/notices/1566736','60109/notices/1566781','60109/notices/1566716','60109/notices/1566684','60109/notices/1566778','60109/notices/1566759','60109/notices/1566752','60109/notices/1566751','60109/notices/1566733','60109/notices/1566711','60109/notices/1566785','60109/notices/1566719','60109/notices/1566679','60109/notices/1566761','60109/notices/1566771','60109/notices/1566700','60109/notices/1566765','60109/notices/1566735','60109/notices/1566784','60109/notices/1566708','60109/notices/1566763','60109/notices/1566676','60109/notices/1566678','60109/notices/1566677','60109/notices/1566755','60109/notices/1566743','60109/notices/1566786','60109/notices/1566779','60109/notices/1566777','60109/notices/1566690','60109/notices/1566693','60109/notices/1566750','60109/notices/1566754','60109/notices/1566753','60109/notices/1566697','60109/notices/1566722','60109/notices/1566691','60109/notices/1566703','60109/notices/1566713','60109/notices/1566717','60109/notices/1566705','60109/notices/1566747','60109/notices/1566734','60109/notices/1566694','60109/notices/1566732','60109/notices/1566689','60108/notices/1565557','60108/notices/1565484','60108/notices/1565468','60108/notices/1565469','60108/notices/1565497','60108/notices/1565514','60108/notices/1565525','60108/notices/1565567','60108/notices/1565457','60108/notices/1565522','60108/notices/1565523','60108/notices/1565459','60108/notices/1565467','60108/notices/1565505','60108/notices/1565451','60108/notices/1565502','60108/notices/1565561','60108/notices/1565533','60108/notices/1565569','60108/notices/1565499','60108/notices/1565440','60108/notices/1565494','60108/notices/1565482','60108/notices/1565439','60108/notices/1565507','60108/notices/1565535','60108/notices/1565527','60108/notices/1565564','60108/notices/1565543','60108/notices/1565544','60108/notices/1565529','60108/notices/1565443','60108/notices/1565462','60108/notices/1565449','60108/notices/1565461','60108/notices/1565472','60108/notices/1565460','60108/notices/1565441','60108/notices/1565503','60108/notices/1565446','60108/notices/1565565','60108/notices/1565518','60108/notices/1565574','60108/notices/1565520','60108/notices/1565553','60108/notices/1565493','60108/notices/1565555','60108/notices/1565560','60108/notices/1565576','60108/notices/1565515','60108/notices/1565475','60108/notices/1565488','60108/notices/1565566','60108/notices/1565568','60108/notices/1565573','60108/notices/1565551','60108/notices/1565496','60108/notices/1565504','60108/notices/1565552','60108/notices/1565537','60108/notices/1565466','60108/notices/1565530','60108/notices/1565526','60108/notices/1565546','60108/notices/1565528','60108/notices/1565517','60108/notices/1565532','60108/notices/1565437','60108/notices/1565456','60108/notices/1565558','60108/notices/1565577','60108/notices/1565508','60108/notices/1565476','60108/notices/1565442','60108/notices/1565579','60108/notices/1565477','60108/notices/1565498','60108/notices/1565509','60108/notices/1565559','60108/notices/1565479','60108/notices/1565538','60108/notices/1565516','60108/notices/1565458','60108/notices/1565485','60108/notices/1565519','60108/notices/1565563','60108/notices/1565542','60108/notices/1565450','60108/notices/1565471','60108/notices/1565455','60108/notices/1565575','60108/notices/1565501','60108/notices/1565500','60108/notices/1565473','60108/notices/1565548','60108/notices/1565444','60108/notices/1565550','60108/notices/1565562','60108/notices/1565506','60108/notices/1565512','60108/notices/1565511','60108/notices/1565556','60108/notices/1565554','60108/notices/1565487','60108/notices/1565513','60108/notices/1565524','60108/notices/1565481','60108/notices/1565510','60108/notices/1565465','60108/notices/1565570','60108/notices/1565571','60108/notices/1565464','60108/notices/1565534','60108/notices/1565447','60108/notices/1565486','60108/notices/1565578','60108/notices/1565448','60108/notices/1565470','60108/notices/1565572','60108/notices/1565491','60108/notices/1565581','60108/notices/1565531','60108/notices/1565490','60108/notices/1565478','60108/notices/1565536','60108/notices/1565453','60108/notices/1565463','60108/notices/1565547','60108/notices/1565545','60108/notices/1565489','60108/notices/1565580','60108/notices/1565438','60108/notices/1565521','60108/notices/1565483','60108/notices/1565436','60108/notices/1565435','60108/notices/1565452','60108/notices/1565495','60108/notices/1565549','60108/notices/1565492','60108/notices/1565480','60108/notices/1565539','60108/notices/1565540','60108/notices/1565445','60108/notices/1565541','60108/notices/1565454','60108/notices/1565474','60105/notices/1564406','60105/notices/1564459','60105/notices/1564508','60105/notices/1564414','60105/notices/1564411','60105/notices/1564514','60105/notices/1564418','60105/notices/1564440','60105/notices/1564428','60105/notices/1564426','60105/notices/1564443','60105/notices/1564409','60105/notices/1564476','60105/notices/1564404','60105/notices/1564473','60105/notices/1564457','60105/notices/1564468','60105/notices/1564455','60105/notices/1564454','60105/notices/1564432','60105/notices/1564477','60105/notices/1564438','60105/notices/1564423','60105/notices/1564518','60105/notices/1564390','60105/notices/1564439','60105/notices/1564442','60105/notices/1564474','60105/notices/1564435','60105/notices/1564512','60105/notices/1564467','60105/notices/1564452','60105/notices/1564401','60105/notices/1564486','60105/notices/1564494','60105/notices/1564503','60105/notices/1564516','60105/notices/1564484','60105/notices/1564421','60105/notices/1564483','60105/notices/1564396','60105/notices/1564436','60105/notices/1564488','60105/notices/1564447','60105/notices/1564491','60105/notices/1564448','60105/notices/1564419','60105/notices/1564410','60105/notices/1564400','60105/notices/1564479','60105/notices/1564391','60105/notices/1564501','60105/notices/1564482','60105/notices/1564431','60105/notices/1564460','60105/notices/1564515','60105/notices/1564481','60105/notices/1564492','60105/notices/1564398','60105/notices/1564461','60105/notices/1564434','60105/notices/1564490','60105/notices/1564502','60105/notices/1564397','60105/notices/1564495','60105/notices/1564389','60105/notices/1564388','60105/notices/1564466','60105/notices/1564392','60105/notices/1564499','60105/notices/1564449','60105/notices/1564500','60105/notices/1564497','60105/notices/1564496','60105/notices/1564504','60105/notices/1564469','60105/notices/1564517','60105/notices/1564465','60105/notices/1564513','60105/notices/1564464','60105/notices/1564471','60105/notices/1564403','60105/notices/1564475','60105/notices/1564402','60105/notices/1564415','60105/notices/1564412','60105/notices/1564441','60105/notices/1564505','60105/notices/1564433','60105/notices/1564385','60105/notices/1564420','60105/notices/1564493','60105/notices/1564446','60105/notices/1564417','60105/notices/1564416','60105/notices/1564462','60105/notices/1564463','60105/notices/1564387','60105/notices/1564487','60105/notices/1564451','60105/notices/1564437','60105/notices/1564405','60105/notices/1564399','60105/notices/1564444','60105/notices/1564425','60105/notices/1564394','60105/notices/1564470','60105/notices/1564445','60105/notices/1564510','60105/notices/1564393','60105/notices/1564478','60105/notices/1564509','60105/notices/1564450','60105/notices/1564427','60105/notices/1564489','60105/notices/1564480','60105/notices/1564498','60105/notices/1564472','60105/notices/1564395','60105/notices/1564386','60105/notices/1564424','60105/notices/1564506','60105/notices/1564507','60105/notices/1564458','60105/notices/1564453','60105/notices/1564407','60105/notices/1564485','60105/notices/1564429','60105/notices/1564430','60105/notices/1564456','60105/notices/1564413','60105/notices/1564408','60105/notices/1564511','60105/notices/1564422','60104/notices/1563770','60104/notices/1563666','60104/notices/1563714','60104/notices/1563659','60104/notices/1563811','60104/notices/1563756','60104/notices/1563755','60104/notices/1563748','60104/notices/1563699','60104/notices/1563707','60104/notices/1563682','60104/notices/1563744','60104/notices/1563777','60104/notices/1563768','60104/notices/1563673','60104/notices/1563824','60104/notices/1563745','60104/notices/1563670','60104/notices/1563695','60104/notices/1563829','60104/notices/1563704','60104/notices/1563838','60104/notices/1563819','60104/notices/1563710','60104/notices/1563749','60104/notices/1563759','60104/notices/1563837','60104/notices/1563674','60104/notices/1563723','60104/notices/1563669','60104/notices/1563686','60104/notices/1563698','60104/notices/1563796','60104/notices/1563763','60104/notices/1563804','60104/notices/1563803','60104/notices/1563814','60104/notices/1563662','60104/notices/1563722','60104/notices/1563773','60104/notices/1563685','60104/notices/1563660','60104/notices/1563781','60104/notices/1563677','60104/notices/1563752','60104/notices/1563806','60104/notices/1563702','60104/notices/1563730','60104/notices/1563817','60104/notices/1563816','60104/notices/1563732','60104/notices/1563731','60104/notices/1563706','60104/notices/1563696','60104/notices/1563832','60104/notices/1563668','60104/notices/1563676','60104/notices/1563823','60104/notices/1563784','60104/notices/1563786','60104/notices/1563818','60104/notices/1563747','60104/notices/1563746','60104/notices/1563717','60104/notices/1563709','60104/notices/1563794','60104/notices/1563822','60104/notices/1563826','60104/notices/1563815','60104/notices/1563810','60104/notices/1563785','60104/notices/1563780','60104/notices/1563754','60104/notices/1563721','60104/notices/1563691','60104/notices/1563767','60104/notices/1563757','60104/notices/1563719','60104/notices/1563790','60104/notices/1563689','60104/notices/1563713','60104/notices/1563712','60104/notices/1563831','60104/notices/1563828','60104/notices/1563800','60104/notices/1563833','60104/notices/1563834','60104/notices/1563839','60104/notices/1563825','60104/notices/1563812','60104/notices/1563813','60104/notices/1563716','60104/notices/1563753','60104/notices/1563769','60104/notices/1563665','60104/notices/1563836','60104/notices/1563703','60104/notices/1563827','60104/notices/1563835','60104/notices/1563687','60104/notices/1563718','60104/notices/1563779','60104/notices/1563715','60104/notices/1563711','60104/notices/1563690','60104/notices/1563801','60104/notices/1563799','60104/notices/1563663','60104/notices/1563758','60104/notices/1563680','60104/notices/1563742','60104/notices/1563700','60104/notices/1563809','60104/notices/1563708','60104/notices/1563733','60104/notices/1563802','60104/notices/1563720','60104/notices/1563672','60104/notices/1563783','60104/notices/1563750','60104/notices/1563774','60104/notices/1563791','60104/notices/1563787','60104/notices/1563728','60104/notices/1563684','60104/notices/1563692','60104/notices/1563727','60104/notices/1563681','60104/notices/1563661','60104/notices/1563775','60104/notices/1563697','60104/notices/1563788','60104/notices/1563694','60104/notices/1563705','60104/notices/1563766','60104/notices/1563683','60104/notices/1563793','60104/notices/1563701','60104/notices/1563765','60104/notices/1563778','60104/notices/1563760','60104/notices/1563735','60104/notices/1563738','60104/notices/1563743','60104/notices/1563664','60104/notices/1563693','60104/notices/1563805','60104/notices/1563688','60104/notices/1563725','60104/notices/1563820','60104/notices/1563795','60104/notices/1563830','60104/notices/1563821','60104/notices/1563807','60104/notices/1563741','60104/notices/1563737','60104/notices/1563789','60104/notices/1563675','60104/notices/1563729','60104/notices/1563798','60104/notices/1563772','60104/notices/1563771','60104/notices/1563797','60104/notices/1563726','60104/notices/1563776','60104/notices/1563751','60104/notices/1563808','60104/notices/1563762','60104/notices/1563679','60104/notices/1563782','60104/notices/1563678','60104/notices/1563671','60104/notices/1563734','60104/notices/1563764','60104/notices/1563736','60104/notices/1563724','60104/notices/1563739','60104/notices/1563740','60104/notices/1563761','60104/notices/1563792','60104/notices/1563667','60103/notices/1562836','60103/notices/1562837','60103/notices/1562886','60103/notices/1562885','60103/notices/1562834','60103/notices/1562896','60103/notices/1562840','60103/notices/1562859','60103/notices/1562854','60103/notices/1562934','60103/notices/1562968','60103/notices/1562899','60103/notices/1562941','60103/notices/1562905','60103/notices/1562973','60103/notices/1562975','60103/notices/1562956','60103/notices/1562911','60103/notices/1562951','60103/notices/1562833','60103/notices/1562921','60103/notices/1562974','60103/notices/1562869','60103/notices/1562907','60103/notices/1562900','60103/notices/1562906','60103/notices/1562877','60103/notices/1562876','60103/notices/1562875','60103/notices/1562889','60103/notices/1562919','60103/notices/1562966','60103/notices/1562977','60103/notices/1562917','60103/notices/1562918','60103/notices/1562888','60103/notices/1562923','60103/notices/1562937','60103/notices/1562938','60103/notices/1562851','60103/notices/1562893','60103/notices/1562891','60103/notices/1562871','60103/notices/1562939','60103/notices/1562963','60103/notices/1562920','60103/notices/1562962','60103/notices/1562972','60103/notices/1562936','60103/notices/1562860','60103/notices/1562872','60103/notices/1562970','60103/notices/1562930','60103/notices/1562890','60103/notices/1562915','60103/notices/1562909','60103/notices/1562908','60103/notices/1562943','60103/notices/1562942','60103/notices/1562967','60103/notices/1562957','60103/notices/1562873','60103/notices/1562933','60103/notices/1562865','60103/notices/1562883','60103/notices/1562842','60103/notices/1562976','60103/notices/1562935','60103/notices/1562979','60103/notices/1562850','60103/notices/1562922','60103/notices/1562880','60103/notices/1562884','60103/notices/1562852','60103/notices/1562926','60103/notices/1562832','60103/notices/1562856','60103/notices/1562855','60103/notices/1562892','60103/notices/1562931','60103/notices/1562830','60103/notices/1562952','60103/notices/1562945','60103/notices/1562959','60103/notices/1562903','60103/notices/1562902','60103/notices/1562864','60103/notices/1562867','60103/notices/1562910','60103/notices/1562950','60103/notices/1562904','60103/notices/1562868','60103/notices/1562913','60103/notices/1562846','60103/notices/1562978','60103/notices/1562949','60103/notices/1562928','60103/notices/1562829','60103/notices/1562947','60103/notices/1562841','60103/notices/1562955','60103/notices/1562954','60103/notices/1562878','60103/notices/1562898','60103/notices/1562981','60103/notices/1562980','60103/notices/1562870','60103/notices/1562874','60103/notices/1562857','60103/notices/1562858','60103/notices/1562838','60103/notices/1562882','60103/notices/1562929','60103/notices/1562831','60103/notices/1562924','60103/notices/1562948','60103/notices/1562894','60103/notices/1562827','60103/notices/1562916','60103/notices/1562881','60103/notices/1562969','60103/notices/1562897','60103/notices/1562853','60103/notices/1562961','60103/notices/1562863','60103/notices/1562964','60103/notices/1562940','60103/notices/1562879','60103/notices/1562848','60103/notices/1562965','60103/notices/1562845','60103/notices/1562927','60103/notices/1562849','60103/notices/1562861','60103/notices/1562960','60103/notices/1562826','60103/notices/1562958','60103/notices/1562914','60103/notices/1562971','60103/notices/1562828','60103/notices/1562843','60103/notices/1562862','60103/notices/1562866','60103/notices/1562925','60103/notices/1562835','60103/notices/1562944','60103/notices/1562839','60103/notices/1562953','60103/notices/1562895','60103/notices/1562932','60103/notices/1562847','60103/notices/1562912','60103/notices/1562946','60103/notices/1562901','60103/notices/1562844','60103/notices/1562887','60102/notices/1561740','60102/notices/1561689','60102/notices/1561747','60102/notices/1561743','60102/notices/1561691','60102/notices/1561679','60102/notices/1561703','60102/notices/1561768','60102/notices/1561708','60102/notices/1561757','60102/notices/1561693','60102/notices/1561732','60102/notices/1561737','60102/notices/1561704','60102/notices/1561705','60102/notices/1561741','60102/notices/1561739','60102/notices/1561711','60102/notices/1561769','60102/notices/1561722','60102/notices/1561720','60102/notices/1561690','60102/notices/1561760','60102/notices/1561707','60102/notices/1561736','60102/notices/1561733','60102/notices/1561712','60102/notices/1561706','60102/notices/1561734','60102/notices/1561764','60102/notices/1561721','60102/notices/1561725','60102/notices/1561726','60102/notices/1561748','60102/notices/1561714','60102/notices/1561774','60102/notices/1561742','60102/notices/1561776','60102/notices/1561752','60102/notices/1561751','60102/notices/1561717','60102/notices/1561701','60102/notices/1561687','60102/notices/1561681','60102/notices/1561746','60102/notices/1561729','60102/notices/1561730','60102/notices/1561731','60102/notices/1561750','60102/notices/1561697','60102/notices/1561766','60102/notices/1561749','60102/notices/1561713','60102/notices/1561767','60102/notices/1561695','60102/notices/1561719','60102/notices/1561727','60102/notices/1561710','60102/notices/1561696','60102/notices/1561685','60102/notices/1561754','60102/notices/1561698','60102/notices/1561775','60102/notices/1561763','60102/notices/1561762','60102/notices/1561715','60102/notices/1561692','60102/notices/1561755','60102/notices/1561772','60102/notices/1561771','60102/notices/1561684','60102/notices/1561683','60102/notices/1561735','60102/notices/1561709','60102/notices/1561700','60102/notices/1561745','60102/notices/1561688','60102/notices/1561765','60102/notices/1561744','60102/notices/1561761','60102/notices/1561759','60102/notices/1561770','60102/notices/1561753','60102/notices/1561756','60102/notices/1561773','60102/notices/1561728','60102/notices/1561699','60102/notices/1561716','60102/notices/1561738','60102/notices/1561686','60102/notices/1561718','60102/notices/1561724','60102/notices/1561682','60102/notices/1561758','60102/notices/1561702','60102/notices/1561694','60102/notices/1561723','60102/notices/1561680','60100/notices/1560713','60100/notices/1560663','60100/notices/1560641','60100/notices/1560728','60100/notices/1560603','60100/notices/1560602','60100/notices/1560685','60100/notices/1560654','60100/notices/1560724','60100/notices/1560596','60100/notices/1560727','60100/notices/1560607','60100/notices/1560627','60100/notices/1560745','60100/notices/1560748','60100/notices/1560701','60100/notices/1560648','60100/notices/1560717','60100/notices/1560767','60100/notices/1560768','60100/notices/1560594','60100/notices/1560588','60100/notices/1560752','60100/notices/1560725','60100/notices/1560736','60100/notices/1560729','60100/notices/1560669','60100/notices/1560670','60100/notices/1560756','60100/notices/1560612','60100/notices/1560672','60100/notices/1560589','60100/notices/1560662','60100/notices/1560758','60100/notices/1560657','60100/notices/1560682','60100/notices/1560719','60100/notices/1560718','60100/notices/1560631','60100/notices/1560604','60100/notices/1560625','60100/notices/1560679','60100/notices/1560680','60100/notices/1560763','60100/notices/1560624','60100/notices/1560581','60100/notices/1560656','60100/notices/1560715','60100/notices/1560759','60100/notices/1560769','60100/notices/1560646','60100/notices/1560587','60100/notices/1560601','60100/notices/1560744','60100/notices/1560732','60100/notices/1560638','60100/notices/1560655','60100/notices/1560634','60100/notices/1560754','60100/notices/1560689','60100/notices/1560700','60100/notices/1560668','60100/notices/1560676','60100/notices/1560755','60100/notices/1560730','60100/notices/1560764','60100/notices/1560645','60100/notices/1560762','60100/notices/1560737','60100/notices/1560647','60100/notices/1560675','60100/notices/1560761','60100/notices/1560750','60100/notices/1560614','60100/notices/1560738','60100/notices/1560632','60100/notices/1560630','60100/notices/1560726','60100/notices/1560716','60100/notices/1560610','60100/notices/1560626','60100/notices/1560742','60100/notices/1560628','60100/notices/1560613','60100/notices/1560619','60100/notices/1560618','60100/notices/1560580','60100/notices/1560666','60100/notices/1560699','60100/notices/1560673','60100/notices/1560711','60100/notices/1560595','60100/notices/1560637','60100/notices/1560652','60100/notices/1560579','60100/notices/1560635','60100/notices/1560636','60100/notices/1560597','60100/notices/1560702','60100/notices/1560643','60100/notices/1560757','60100/notices/1560606','60100/notices/1560705','60100/notices/1560592','60100/notices/1560691','60100/notices/1560633','60100/notices/1560622','60100/notices/1560649','60100/notices/1560708','60100/notices/1560743','60100/notices/1560616','60100/notices/1560642','60100/notices/1560671','60100/notices/1560703','60100/notices/1560608','60100/notices/1560714','60100/notices/1560731','60100/notices/1560605','60100/notices/1560696','60100/notices/1560677','60100/notices/1560706','60100/notices/1560740','60100/notices/1560749','60100/notices/1560621','60100/notices/1560661','60100/notices/1560660','60100/notices/1560765','60100/notices/1560615','60100/notices/1560722','60100/notices/1560600','60100/notices/1560733','60100/notices/1560617','60100/notices/1560640','60100/notices/1560686','60100/notices/1560683','60100/notices/1560667','60100/notices/1560688','60100/notices/1560664','60100/notices/1560674','60100/notices/1560665','60100/notices/1560591','60100/notices/1560651','60100/notices/1560650','60100/notices/1560653','60100/notices/1560709','60100/notices/1560753','60100/notices/1560746','60100/notices/1560658','60100/notices/1560720','60100/notices/1560704','60100/notices/1560693','60100/notices/1560723','60100/notices/1560584','60100/notices/1560721','60100/notices/1560585','60100/notices/1560766','60100/notices/1560644','60100/notices/1560590','60100/notices/1560583','60100/notices/1560586','60100/notices/1560623','60100/notices/1560712','60100/notices/1560639','60100/notices/1560599','60100/notices/1560695','60100/notices/1560681','60100/notices/1560684','60100/notices/1560620','60100/notices/1560710','60100/notices/1560739','60100/notices/1560611','60100/notices/1560593','60100/notices/1560694','60100/notices/1560697','60100/notices/1560659','60100/notices/1560678','60100/notices/1560629','60100/notices/1560707','60100/notices/1560582','60100/notices/1560690','60100/notices/1560687','60100/notices/1560598','60100/notices/1560609','60100/notices/1560692','60100/notices/1560760','60100/notices/1560747','60100/notices/1560735','60100/notices/1560741','60100/notices/1560734','60100/notices/1560751','60100/notices/1560698']



#go through the schoolIDs array above, and for each ID...
for item in codes:
    #show it in the console
    print item
    #create a URL called 'next_link' which adds that ID to the end of the base_url variable
    next_link = base_url+item
    #pass that new concatenated URL to a function, 'scrape_page', which is scripted above
    scrape_page(next_link)

# typical URL is http://www.london-gazette.co.uk/id/issues/60112/notices/1568529
# list of URLs collected by scraper at https://scraperwiki.com/scrapers/bankruptcies/
# Downloaded as CSV and codes extracted in Google Docs by using =RIGHT(A2, 7)
# Cycle through a list of those codes, created by using the =JOIN formula in Google Docs

#If you want to understand this scraper - start at the bottom where it says 'base_url' 

import scraperwiki
#import urlparse
import lxml.html

#Create a function called 'scrape_table' which is called in the function 'scrape_page' below
#The 'scrape_page' function also passed the contents of the page to this function as 'root'
def scrape_table(root):
    #Use cssselect to find the contents of a particular HTML tag, and put it in a new object 'divdata'
    #there's more than one div, so we need to specify the class="Data", represented by the full stop
    divdata = root.cssselect("div.Data")
    for pars in divdata:
        #Create a new empty record
        record = {}
        #Assign the contents of <td> to a new object called 'table_cells'
        lines = pars.cssselect("p")
        spans = pars.cssselect("p span")
        #If there's anything
#TO ADD: AN ELSE TO ADDRESS DATE/URLCODE WHICH ARE 'OUT OF RANGE' ON SOME PAGES        
        if lines: 
            #Put the contents of the first <p> into a record in the column 'pubdate'
            record['pubdate'] = spans[0].text
            record['noticecode'] = spans[1].text
            record['name'] = spans[2].text
            record['address'] = lines[4].text
            record['DOB'] = lines[5].text
            record['description'] = lines[6].text
            record['court'] = lines[7].text
            record['dateofpetition'] = lines[8].text
            record['dateoforder'] = lines[9].text
            record['timeoforder'] = lines[10].text
            record['petitionby'] = lines[11].text
            record['receiver'] = spans[3].text
#            record['date'] = lines[13].text
#            record['urlcode'] = lines[14].text
            record['ID'] = item
            print record, '------------'
            #Save in the SQLite database, with the ID code to be used as the unique reference
            scraperwiki.sqlite.save(["ID"], record)
        


#this creates a new function and (re)names whatever parameter is passed to it - i.e. 'next_link' below - as 'url'
def scrape_page(url):
    #now 'url' is scraped with the scraperwiki library imported above, and the contents put into a new object, 'html'
    html = scraperwiki.scrape(url)
    print html
    #now we use the lxml.html function imported above to convert 'html' into a new object, 'root'
    root = lxml.html.fromstring(html)
    #now we call another function on root, which we write - above
    scrape_table(root)

#START HERE: This is the part of the URL which all our pages share
base_url = 'http://www.london-gazette.co.uk/issues/'
#And these are the numbers which we need to complete that URL to make each individual URL
#This array has been compiled using the =JOIN formula in Google Docs on a column of URL codes
codes = ['60112/notices/1568529','60112/notices/1568613','60112/notices/1568537','60112/notices/1568593','60112/notices/1568532','60112/notices/1568614','60112/notices/1568541','60112/notices/1568546','60112/notices/1568523','60112/notices/1568560','60112/notices/1568590','60112/notices/1568611','60112/notices/1568573','60112/notices/1568518','60112/notices/1568530','60112/notices/1568524','60112/notices/1568526','60112/notices/1568558','60112/notices/1568516','60112/notices/1568574','60112/notices/1568547','60112/notices/1568515','60112/notices/1568565','60112/notices/1568575','60112/notices/1568549','60112/notices/1568536','60112/notices/1568610','60112/notices/1568597','60112/notices/1568527','60112/notices/1568578','60112/notices/1568501','60112/notices/1568500','60112/notices/1568545','60112/notices/1568604','60112/notices/1568602','60112/notices/1568555','60112/notices/1568543','60112/notices/1568506','60112/notices/1568520','60112/notices/1568519','60112/notices/1568534','60112/notices/1568600','60112/notices/1568608','60112/notices/1568581','60112/notices/1568569','60112/notices/1568598','60112/notices/1568514','60112/notices/1568513','60112/notices/1568508','60112/notices/1568601','60112/notices/1568571','60112/notices/1568512','60112/notices/1568585','60112/notices/1568603','60112/notices/1568521','60112/notices/1568584','60112/notices/1568589','60112/notices/1568511','60112/notices/1568596','60112/notices/1568582','60112/notices/1568591','60112/notices/1568570','60112/notices/1568612','60112/notices/1568544','60112/notices/1568553','60112/notices/1568595','60112/notices/1568588','60112/notices/1568583','60112/notices/1568522','60112/notices/1568504','60112/notices/1568542','60112/notices/1568594','60112/notices/1568567','60112/notices/1568617','60112/notices/1568579','60112/notices/1568561','60112/notices/1568548','60112/notices/1568556','60112/notices/1568554','60112/notices/1568507','60112/notices/1568538','60112/notices/1568503','60112/notices/1568599','60112/notices/1568592','60112/notices/1568577','60112/notices/1568607','60112/notices/1568539','60112/notices/1568586','60112/notices/1568576','60112/notices/1568535','60112/notices/1568531','60112/notices/1568609','60112/notices/1568499','60112/notices/1568517','60112/notices/1568572','60112/notices/1568564','60112/notices/1568563','60112/notices/1568618','60112/notices/1568498','60112/notices/1568540','60112/notices/1568528','60112/notices/1568525','60112/notices/1568559','60112/notices/1568580','60112/notices/1568552','60112/notices/1568562','60112/notices/1568587','60112/notices/1568566','60112/notices/1568551','60112/notices/1568550','60112/notices/1568510','60112/notices/1568502','60112/notices/1568606','60112/notices/1568616','60112/notices/1568568','60112/notices/1568509','60112/notices/1568605','60112/notices/1568615','60112/notices/1568496','60112/notices/1568533','60112/notices/1568557','60110/notices/1567665','60110/notices/1567688','60110/notices/1567627','60110/notices/1567700','60110/notices/1567621','60110/notices/1567636','60110/notices/1567674','60110/notices/1567675','60110/notices/1567704','60110/notices/1567679','60110/notices/1567617','60110/notices/1567685','60110/notices/1567643','60110/notices/1567678','60110/notices/1567645','60110/notices/1567693','60110/notices/1567673','60110/notices/1567628','60110/notices/1567699','60110/notices/1567638','60110/notices/1567654','60110/notices/1567640','60110/notices/1567631','60110/notices/1567702','60110/notices/1567646','60110/notices/1567701','60110/notices/1567708','60110/notices/1567676','60110/notices/1567672','60110/notices/1567637','60110/notices/1567660','60110/notices/1567711','60110/notices/1567618','60110/notices/1567681','60110/notices/1567648','60110/notices/1567655','60110/notices/1567657','60110/notices/1567694','60110/notices/1567677','60110/notices/1567624','60110/notices/1567639','60110/notices/1567691','60110/notices/1567707','60110/notices/1567706','60110/notices/1567698','60110/notices/1567623','60110/notices/1567689','60110/notices/1567668','60110/notices/1567705','60110/notices/1567656','60110/notices/1567692','60110/notices/1567669','60110/notices/1567632','60110/notices/1567666','60110/notices/1567690','60110/notices/1567614','60110/notices/1567658','60110/notices/1567712','60110/notices/1567663','60110/notices/1567697','60110/notices/1567670','60110/notices/1567649','60110/notices/1567686','60110/notices/1567653','60110/notices/1567687','60110/notices/1567713','60110/notices/1567683','60110/notices/1567684','60110/notices/1567635','60110/notices/1567695','60110/notices/1567619','60110/notices/1567667','60110/notices/1567671','60110/notices/1567634','60110/notices/1567642','60110/notices/1567696','60110/notices/1567714','60110/notices/1567710','60110/notices/1567709','60110/notices/1567630','60110/notices/1567703','60110/notices/1567652','60110/notices/1567651','60110/notices/1567680','60110/notices/1567629','60110/notices/1567661','60110/notices/1567664','60110/notices/1567644','60110/notices/1567641','60110/notices/1567659','60110/notices/1567620','60110/notices/1567622','60110/notices/1567613','60110/notices/1567616','60110/notices/1567633','60110/notices/1567650','60110/notices/1567615','60110/notices/1567662','60110/notices/1567682','60110/notices/1567647','60110/notices/1567626','60110/notices/1567625','60109/notices/1566760','60109/notices/1566714','60109/notices/1566762','60109/notices/1566698','60109/notices/1566764','60109/notices/1566756','60109/notices/1566687','60109/notices/1566774','60109/notices/1566773','60109/notices/1566707','60109/notices/1566741','60109/notices/1566748','60109/notices/1566723','60109/notices/1566729','60109/notices/1566728','60109/notices/1566745','60109/notices/1566769','60109/notices/1566768','60109/notices/1566772','60109/notices/1566783','60109/notices/1566730','60109/notices/1566681','60109/notices/1566746','60109/notices/1566766','60109/notices/1566721','60109/notices/1566739','60109/notices/1566738','60109/notices/1566715','60109/notices/1566718','60109/notices/1566685','60109/notices/1566706','60109/notices/1566726','60109/notices/1566709','60109/notices/1566712','60109/notices/1566710','60109/notices/1566702','60109/notices/1566780','60109/notices/1566688','60109/notices/1566680','60109/notices/1566770','60109/notices/1566731','60109/notices/1566742','60109/notices/1566720','60109/notices/1566724','60109/notices/1566758','60109/notices/1566727','60109/notices/1566696','60109/notices/1566695','60109/notices/1566497','60109/notices/1566757','60109/notices/1566782','60109/notices/1566737','60109/notices/1566740','60109/notices/1566725','60109/notices/1566767','60109/notices/1566692','60109/notices/1566775','60109/notices/1566686','60109/notices/1566744','60109/notices/1566699','60109/notices/1566701','60109/notices/1566787','60109/notices/1566683','60109/notices/1566776','60109/notices/1566749','60109/notices/1566704','60109/notices/1566682','60109/notices/1566736','60109/notices/1566781','60109/notices/1566716','60109/notices/1566684','60109/notices/1566778','60109/notices/1566759','60109/notices/1566752','60109/notices/1566751','60109/notices/1566733','60109/notices/1566711','60109/notices/1566785','60109/notices/1566719','60109/notices/1566679','60109/notices/1566761','60109/notices/1566771','60109/notices/1566700','60109/notices/1566765','60109/notices/1566735','60109/notices/1566784','60109/notices/1566708','60109/notices/1566763','60109/notices/1566676','60109/notices/1566678','60109/notices/1566677','60109/notices/1566755','60109/notices/1566743','60109/notices/1566786','60109/notices/1566779','60109/notices/1566777','60109/notices/1566690','60109/notices/1566693','60109/notices/1566750','60109/notices/1566754','60109/notices/1566753','60109/notices/1566697','60109/notices/1566722','60109/notices/1566691','60109/notices/1566703','60109/notices/1566713','60109/notices/1566717','60109/notices/1566705','60109/notices/1566747','60109/notices/1566734','60109/notices/1566694','60109/notices/1566732','60109/notices/1566689','60108/notices/1565557','60108/notices/1565484','60108/notices/1565468','60108/notices/1565469','60108/notices/1565497','60108/notices/1565514','60108/notices/1565525','60108/notices/1565567','60108/notices/1565457','60108/notices/1565522','60108/notices/1565523','60108/notices/1565459','60108/notices/1565467','60108/notices/1565505','60108/notices/1565451','60108/notices/1565502','60108/notices/1565561','60108/notices/1565533','60108/notices/1565569','60108/notices/1565499','60108/notices/1565440','60108/notices/1565494','60108/notices/1565482','60108/notices/1565439','60108/notices/1565507','60108/notices/1565535','60108/notices/1565527','60108/notices/1565564','60108/notices/1565543','60108/notices/1565544','60108/notices/1565529','60108/notices/1565443','60108/notices/1565462','60108/notices/1565449','60108/notices/1565461','60108/notices/1565472','60108/notices/1565460','60108/notices/1565441','60108/notices/1565503','60108/notices/1565446','60108/notices/1565565','60108/notices/1565518','60108/notices/1565574','60108/notices/1565520','60108/notices/1565553','60108/notices/1565493','60108/notices/1565555','60108/notices/1565560','60108/notices/1565576','60108/notices/1565515','60108/notices/1565475','60108/notices/1565488','60108/notices/1565566','60108/notices/1565568','60108/notices/1565573','60108/notices/1565551','60108/notices/1565496','60108/notices/1565504','60108/notices/1565552','60108/notices/1565537','60108/notices/1565466','60108/notices/1565530','60108/notices/1565526','60108/notices/1565546','60108/notices/1565528','60108/notices/1565517','60108/notices/1565532','60108/notices/1565437','60108/notices/1565456','60108/notices/1565558','60108/notices/1565577','60108/notices/1565508','60108/notices/1565476','60108/notices/1565442','60108/notices/1565579','60108/notices/1565477','60108/notices/1565498','60108/notices/1565509','60108/notices/1565559','60108/notices/1565479','60108/notices/1565538','60108/notices/1565516','60108/notices/1565458','60108/notices/1565485','60108/notices/1565519','60108/notices/1565563','60108/notices/1565542','60108/notices/1565450','60108/notices/1565471','60108/notices/1565455','60108/notices/1565575','60108/notices/1565501','60108/notices/1565500','60108/notices/1565473','60108/notices/1565548','60108/notices/1565444','60108/notices/1565550','60108/notices/1565562','60108/notices/1565506','60108/notices/1565512','60108/notices/1565511','60108/notices/1565556','60108/notices/1565554','60108/notices/1565487','60108/notices/1565513','60108/notices/1565524','60108/notices/1565481','60108/notices/1565510','60108/notices/1565465','60108/notices/1565570','60108/notices/1565571','60108/notices/1565464','60108/notices/1565534','60108/notices/1565447','60108/notices/1565486','60108/notices/1565578','60108/notices/1565448','60108/notices/1565470','60108/notices/1565572','60108/notices/1565491','60108/notices/1565581','60108/notices/1565531','60108/notices/1565490','60108/notices/1565478','60108/notices/1565536','60108/notices/1565453','60108/notices/1565463','60108/notices/1565547','60108/notices/1565545','60108/notices/1565489','60108/notices/1565580','60108/notices/1565438','60108/notices/1565521','60108/notices/1565483','60108/notices/1565436','60108/notices/1565435','60108/notices/1565452','60108/notices/1565495','60108/notices/1565549','60108/notices/1565492','60108/notices/1565480','60108/notices/1565539','60108/notices/1565540','60108/notices/1565445','60108/notices/1565541','60108/notices/1565454','60108/notices/1565474','60105/notices/1564406','60105/notices/1564459','60105/notices/1564508','60105/notices/1564414','60105/notices/1564411','60105/notices/1564514','60105/notices/1564418','60105/notices/1564440','60105/notices/1564428','60105/notices/1564426','60105/notices/1564443','60105/notices/1564409','60105/notices/1564476','60105/notices/1564404','60105/notices/1564473','60105/notices/1564457','60105/notices/1564468','60105/notices/1564455','60105/notices/1564454','60105/notices/1564432','60105/notices/1564477','60105/notices/1564438','60105/notices/1564423','60105/notices/1564518','60105/notices/1564390','60105/notices/1564439','60105/notices/1564442','60105/notices/1564474','60105/notices/1564435','60105/notices/1564512','60105/notices/1564467','60105/notices/1564452','60105/notices/1564401','60105/notices/1564486','60105/notices/1564494','60105/notices/1564503','60105/notices/1564516','60105/notices/1564484','60105/notices/1564421','60105/notices/1564483','60105/notices/1564396','60105/notices/1564436','60105/notices/1564488','60105/notices/1564447','60105/notices/1564491','60105/notices/1564448','60105/notices/1564419','60105/notices/1564410','60105/notices/1564400','60105/notices/1564479','60105/notices/1564391','60105/notices/1564501','60105/notices/1564482','60105/notices/1564431','60105/notices/1564460','60105/notices/1564515','60105/notices/1564481','60105/notices/1564492','60105/notices/1564398','60105/notices/1564461','60105/notices/1564434','60105/notices/1564490','60105/notices/1564502','60105/notices/1564397','60105/notices/1564495','60105/notices/1564389','60105/notices/1564388','60105/notices/1564466','60105/notices/1564392','60105/notices/1564499','60105/notices/1564449','60105/notices/1564500','60105/notices/1564497','60105/notices/1564496','60105/notices/1564504','60105/notices/1564469','60105/notices/1564517','60105/notices/1564465','60105/notices/1564513','60105/notices/1564464','60105/notices/1564471','60105/notices/1564403','60105/notices/1564475','60105/notices/1564402','60105/notices/1564415','60105/notices/1564412','60105/notices/1564441','60105/notices/1564505','60105/notices/1564433','60105/notices/1564385','60105/notices/1564420','60105/notices/1564493','60105/notices/1564446','60105/notices/1564417','60105/notices/1564416','60105/notices/1564462','60105/notices/1564463','60105/notices/1564387','60105/notices/1564487','60105/notices/1564451','60105/notices/1564437','60105/notices/1564405','60105/notices/1564399','60105/notices/1564444','60105/notices/1564425','60105/notices/1564394','60105/notices/1564470','60105/notices/1564445','60105/notices/1564510','60105/notices/1564393','60105/notices/1564478','60105/notices/1564509','60105/notices/1564450','60105/notices/1564427','60105/notices/1564489','60105/notices/1564480','60105/notices/1564498','60105/notices/1564472','60105/notices/1564395','60105/notices/1564386','60105/notices/1564424','60105/notices/1564506','60105/notices/1564507','60105/notices/1564458','60105/notices/1564453','60105/notices/1564407','60105/notices/1564485','60105/notices/1564429','60105/notices/1564430','60105/notices/1564456','60105/notices/1564413','60105/notices/1564408','60105/notices/1564511','60105/notices/1564422','60104/notices/1563770','60104/notices/1563666','60104/notices/1563714','60104/notices/1563659','60104/notices/1563811','60104/notices/1563756','60104/notices/1563755','60104/notices/1563748','60104/notices/1563699','60104/notices/1563707','60104/notices/1563682','60104/notices/1563744','60104/notices/1563777','60104/notices/1563768','60104/notices/1563673','60104/notices/1563824','60104/notices/1563745','60104/notices/1563670','60104/notices/1563695','60104/notices/1563829','60104/notices/1563704','60104/notices/1563838','60104/notices/1563819','60104/notices/1563710','60104/notices/1563749','60104/notices/1563759','60104/notices/1563837','60104/notices/1563674','60104/notices/1563723','60104/notices/1563669','60104/notices/1563686','60104/notices/1563698','60104/notices/1563796','60104/notices/1563763','60104/notices/1563804','60104/notices/1563803','60104/notices/1563814','60104/notices/1563662','60104/notices/1563722','60104/notices/1563773','60104/notices/1563685','60104/notices/1563660','60104/notices/1563781','60104/notices/1563677','60104/notices/1563752','60104/notices/1563806','60104/notices/1563702','60104/notices/1563730','60104/notices/1563817','60104/notices/1563816','60104/notices/1563732','60104/notices/1563731','60104/notices/1563706','60104/notices/1563696','60104/notices/1563832','60104/notices/1563668','60104/notices/1563676','60104/notices/1563823','60104/notices/1563784','60104/notices/1563786','60104/notices/1563818','60104/notices/1563747','60104/notices/1563746','60104/notices/1563717','60104/notices/1563709','60104/notices/1563794','60104/notices/1563822','60104/notices/1563826','60104/notices/1563815','60104/notices/1563810','60104/notices/1563785','60104/notices/1563780','60104/notices/1563754','60104/notices/1563721','60104/notices/1563691','60104/notices/1563767','60104/notices/1563757','60104/notices/1563719','60104/notices/1563790','60104/notices/1563689','60104/notices/1563713','60104/notices/1563712','60104/notices/1563831','60104/notices/1563828','60104/notices/1563800','60104/notices/1563833','60104/notices/1563834','60104/notices/1563839','60104/notices/1563825','60104/notices/1563812','60104/notices/1563813','60104/notices/1563716','60104/notices/1563753','60104/notices/1563769','60104/notices/1563665','60104/notices/1563836','60104/notices/1563703','60104/notices/1563827','60104/notices/1563835','60104/notices/1563687','60104/notices/1563718','60104/notices/1563779','60104/notices/1563715','60104/notices/1563711','60104/notices/1563690','60104/notices/1563801','60104/notices/1563799','60104/notices/1563663','60104/notices/1563758','60104/notices/1563680','60104/notices/1563742','60104/notices/1563700','60104/notices/1563809','60104/notices/1563708','60104/notices/1563733','60104/notices/1563802','60104/notices/1563720','60104/notices/1563672','60104/notices/1563783','60104/notices/1563750','60104/notices/1563774','60104/notices/1563791','60104/notices/1563787','60104/notices/1563728','60104/notices/1563684','60104/notices/1563692','60104/notices/1563727','60104/notices/1563681','60104/notices/1563661','60104/notices/1563775','60104/notices/1563697','60104/notices/1563788','60104/notices/1563694','60104/notices/1563705','60104/notices/1563766','60104/notices/1563683','60104/notices/1563793','60104/notices/1563701','60104/notices/1563765','60104/notices/1563778','60104/notices/1563760','60104/notices/1563735','60104/notices/1563738','60104/notices/1563743','60104/notices/1563664','60104/notices/1563693','60104/notices/1563805','60104/notices/1563688','60104/notices/1563725','60104/notices/1563820','60104/notices/1563795','60104/notices/1563830','60104/notices/1563821','60104/notices/1563807','60104/notices/1563741','60104/notices/1563737','60104/notices/1563789','60104/notices/1563675','60104/notices/1563729','60104/notices/1563798','60104/notices/1563772','60104/notices/1563771','60104/notices/1563797','60104/notices/1563726','60104/notices/1563776','60104/notices/1563751','60104/notices/1563808','60104/notices/1563762','60104/notices/1563679','60104/notices/1563782','60104/notices/1563678','60104/notices/1563671','60104/notices/1563734','60104/notices/1563764','60104/notices/1563736','60104/notices/1563724','60104/notices/1563739','60104/notices/1563740','60104/notices/1563761','60104/notices/1563792','60104/notices/1563667','60103/notices/1562836','60103/notices/1562837','60103/notices/1562886','60103/notices/1562885','60103/notices/1562834','60103/notices/1562896','60103/notices/1562840','60103/notices/1562859','60103/notices/1562854','60103/notices/1562934','60103/notices/1562968','60103/notices/1562899','60103/notices/1562941','60103/notices/1562905','60103/notices/1562973','60103/notices/1562975','60103/notices/1562956','60103/notices/1562911','60103/notices/1562951','60103/notices/1562833','60103/notices/1562921','60103/notices/1562974','60103/notices/1562869','60103/notices/1562907','60103/notices/1562900','60103/notices/1562906','60103/notices/1562877','60103/notices/1562876','60103/notices/1562875','60103/notices/1562889','60103/notices/1562919','60103/notices/1562966','60103/notices/1562977','60103/notices/1562917','60103/notices/1562918','60103/notices/1562888','60103/notices/1562923','60103/notices/1562937','60103/notices/1562938','60103/notices/1562851','60103/notices/1562893','60103/notices/1562891','60103/notices/1562871','60103/notices/1562939','60103/notices/1562963','60103/notices/1562920','60103/notices/1562962','60103/notices/1562972','60103/notices/1562936','60103/notices/1562860','60103/notices/1562872','60103/notices/1562970','60103/notices/1562930','60103/notices/1562890','60103/notices/1562915','60103/notices/1562909','60103/notices/1562908','60103/notices/1562943','60103/notices/1562942','60103/notices/1562967','60103/notices/1562957','60103/notices/1562873','60103/notices/1562933','60103/notices/1562865','60103/notices/1562883','60103/notices/1562842','60103/notices/1562976','60103/notices/1562935','60103/notices/1562979','60103/notices/1562850','60103/notices/1562922','60103/notices/1562880','60103/notices/1562884','60103/notices/1562852','60103/notices/1562926','60103/notices/1562832','60103/notices/1562856','60103/notices/1562855','60103/notices/1562892','60103/notices/1562931','60103/notices/1562830','60103/notices/1562952','60103/notices/1562945','60103/notices/1562959','60103/notices/1562903','60103/notices/1562902','60103/notices/1562864','60103/notices/1562867','60103/notices/1562910','60103/notices/1562950','60103/notices/1562904','60103/notices/1562868','60103/notices/1562913','60103/notices/1562846','60103/notices/1562978','60103/notices/1562949','60103/notices/1562928','60103/notices/1562829','60103/notices/1562947','60103/notices/1562841','60103/notices/1562955','60103/notices/1562954','60103/notices/1562878','60103/notices/1562898','60103/notices/1562981','60103/notices/1562980','60103/notices/1562870','60103/notices/1562874','60103/notices/1562857','60103/notices/1562858','60103/notices/1562838','60103/notices/1562882','60103/notices/1562929','60103/notices/1562831','60103/notices/1562924','60103/notices/1562948','60103/notices/1562894','60103/notices/1562827','60103/notices/1562916','60103/notices/1562881','60103/notices/1562969','60103/notices/1562897','60103/notices/1562853','60103/notices/1562961','60103/notices/1562863','60103/notices/1562964','60103/notices/1562940','60103/notices/1562879','60103/notices/1562848','60103/notices/1562965','60103/notices/1562845','60103/notices/1562927','60103/notices/1562849','60103/notices/1562861','60103/notices/1562960','60103/notices/1562826','60103/notices/1562958','60103/notices/1562914','60103/notices/1562971','60103/notices/1562828','60103/notices/1562843','60103/notices/1562862','60103/notices/1562866','60103/notices/1562925','60103/notices/1562835','60103/notices/1562944','60103/notices/1562839','60103/notices/1562953','60103/notices/1562895','60103/notices/1562932','60103/notices/1562847','60103/notices/1562912','60103/notices/1562946','60103/notices/1562901','60103/notices/1562844','60103/notices/1562887','60102/notices/1561740','60102/notices/1561689','60102/notices/1561747','60102/notices/1561743','60102/notices/1561691','60102/notices/1561679','60102/notices/1561703','60102/notices/1561768','60102/notices/1561708','60102/notices/1561757','60102/notices/1561693','60102/notices/1561732','60102/notices/1561737','60102/notices/1561704','60102/notices/1561705','60102/notices/1561741','60102/notices/1561739','60102/notices/1561711','60102/notices/1561769','60102/notices/1561722','60102/notices/1561720','60102/notices/1561690','60102/notices/1561760','60102/notices/1561707','60102/notices/1561736','60102/notices/1561733','60102/notices/1561712','60102/notices/1561706','60102/notices/1561734','60102/notices/1561764','60102/notices/1561721','60102/notices/1561725','60102/notices/1561726','60102/notices/1561748','60102/notices/1561714','60102/notices/1561774','60102/notices/1561742','60102/notices/1561776','60102/notices/1561752','60102/notices/1561751','60102/notices/1561717','60102/notices/1561701','60102/notices/1561687','60102/notices/1561681','60102/notices/1561746','60102/notices/1561729','60102/notices/1561730','60102/notices/1561731','60102/notices/1561750','60102/notices/1561697','60102/notices/1561766','60102/notices/1561749','60102/notices/1561713','60102/notices/1561767','60102/notices/1561695','60102/notices/1561719','60102/notices/1561727','60102/notices/1561710','60102/notices/1561696','60102/notices/1561685','60102/notices/1561754','60102/notices/1561698','60102/notices/1561775','60102/notices/1561763','60102/notices/1561762','60102/notices/1561715','60102/notices/1561692','60102/notices/1561755','60102/notices/1561772','60102/notices/1561771','60102/notices/1561684','60102/notices/1561683','60102/notices/1561735','60102/notices/1561709','60102/notices/1561700','60102/notices/1561745','60102/notices/1561688','60102/notices/1561765','60102/notices/1561744','60102/notices/1561761','60102/notices/1561759','60102/notices/1561770','60102/notices/1561753','60102/notices/1561756','60102/notices/1561773','60102/notices/1561728','60102/notices/1561699','60102/notices/1561716','60102/notices/1561738','60102/notices/1561686','60102/notices/1561718','60102/notices/1561724','60102/notices/1561682','60102/notices/1561758','60102/notices/1561702','60102/notices/1561694','60102/notices/1561723','60102/notices/1561680','60100/notices/1560713','60100/notices/1560663','60100/notices/1560641','60100/notices/1560728','60100/notices/1560603','60100/notices/1560602','60100/notices/1560685','60100/notices/1560654','60100/notices/1560724','60100/notices/1560596','60100/notices/1560727','60100/notices/1560607','60100/notices/1560627','60100/notices/1560745','60100/notices/1560748','60100/notices/1560701','60100/notices/1560648','60100/notices/1560717','60100/notices/1560767','60100/notices/1560768','60100/notices/1560594','60100/notices/1560588','60100/notices/1560752','60100/notices/1560725','60100/notices/1560736','60100/notices/1560729','60100/notices/1560669','60100/notices/1560670','60100/notices/1560756','60100/notices/1560612','60100/notices/1560672','60100/notices/1560589','60100/notices/1560662','60100/notices/1560758','60100/notices/1560657','60100/notices/1560682','60100/notices/1560719','60100/notices/1560718','60100/notices/1560631','60100/notices/1560604','60100/notices/1560625','60100/notices/1560679','60100/notices/1560680','60100/notices/1560763','60100/notices/1560624','60100/notices/1560581','60100/notices/1560656','60100/notices/1560715','60100/notices/1560759','60100/notices/1560769','60100/notices/1560646','60100/notices/1560587','60100/notices/1560601','60100/notices/1560744','60100/notices/1560732','60100/notices/1560638','60100/notices/1560655','60100/notices/1560634','60100/notices/1560754','60100/notices/1560689','60100/notices/1560700','60100/notices/1560668','60100/notices/1560676','60100/notices/1560755','60100/notices/1560730','60100/notices/1560764','60100/notices/1560645','60100/notices/1560762','60100/notices/1560737','60100/notices/1560647','60100/notices/1560675','60100/notices/1560761','60100/notices/1560750','60100/notices/1560614','60100/notices/1560738','60100/notices/1560632','60100/notices/1560630','60100/notices/1560726','60100/notices/1560716','60100/notices/1560610','60100/notices/1560626','60100/notices/1560742','60100/notices/1560628','60100/notices/1560613','60100/notices/1560619','60100/notices/1560618','60100/notices/1560580','60100/notices/1560666','60100/notices/1560699','60100/notices/1560673','60100/notices/1560711','60100/notices/1560595','60100/notices/1560637','60100/notices/1560652','60100/notices/1560579','60100/notices/1560635','60100/notices/1560636','60100/notices/1560597','60100/notices/1560702','60100/notices/1560643','60100/notices/1560757','60100/notices/1560606','60100/notices/1560705','60100/notices/1560592','60100/notices/1560691','60100/notices/1560633','60100/notices/1560622','60100/notices/1560649','60100/notices/1560708','60100/notices/1560743','60100/notices/1560616','60100/notices/1560642','60100/notices/1560671','60100/notices/1560703','60100/notices/1560608','60100/notices/1560714','60100/notices/1560731','60100/notices/1560605','60100/notices/1560696','60100/notices/1560677','60100/notices/1560706','60100/notices/1560740','60100/notices/1560749','60100/notices/1560621','60100/notices/1560661','60100/notices/1560660','60100/notices/1560765','60100/notices/1560615','60100/notices/1560722','60100/notices/1560600','60100/notices/1560733','60100/notices/1560617','60100/notices/1560640','60100/notices/1560686','60100/notices/1560683','60100/notices/1560667','60100/notices/1560688','60100/notices/1560664','60100/notices/1560674','60100/notices/1560665','60100/notices/1560591','60100/notices/1560651','60100/notices/1560650','60100/notices/1560653','60100/notices/1560709','60100/notices/1560753','60100/notices/1560746','60100/notices/1560658','60100/notices/1560720','60100/notices/1560704','60100/notices/1560693','60100/notices/1560723','60100/notices/1560584','60100/notices/1560721','60100/notices/1560585','60100/notices/1560766','60100/notices/1560644','60100/notices/1560590','60100/notices/1560583','60100/notices/1560586','60100/notices/1560623','60100/notices/1560712','60100/notices/1560639','60100/notices/1560599','60100/notices/1560695','60100/notices/1560681','60100/notices/1560684','60100/notices/1560620','60100/notices/1560710','60100/notices/1560739','60100/notices/1560611','60100/notices/1560593','60100/notices/1560694','60100/notices/1560697','60100/notices/1560659','60100/notices/1560678','60100/notices/1560629','60100/notices/1560707','60100/notices/1560582','60100/notices/1560690','60100/notices/1560687','60100/notices/1560598','60100/notices/1560609','60100/notices/1560692','60100/notices/1560760','60100/notices/1560747','60100/notices/1560735','60100/notices/1560741','60100/notices/1560734','60100/notices/1560751','60100/notices/1560698']



#go through the schoolIDs array above, and for each ID...
for item in codes:
    #show it in the console
    print item
    #create a URL called 'next_link' which adds that ID to the end of the base_url variable
    next_link = base_url+item
    #pass that new concatenated URL to a function, 'scrape_page', which is scripted above
    scrape_page(next_link)

