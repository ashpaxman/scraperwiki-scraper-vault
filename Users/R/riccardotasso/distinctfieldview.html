<!DOCTYPE html>
<html>
<head>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>


<script>

function add_options(data) {
    for(k in data[0]) {
        var n = document.createElement("option");
        n.setAttribute("value", k);
        var txt = document.createTextNode(k);
        n.appendChild(txt);
        var e = document.getElementById('fields');
        e.appendChild(n);
    }
    
}

window.onload=function() {

    var query="https://api.scraperwiki.com/api/1.0/datastore/sqlite?format=jsondict&name=scioperi_it&query=select%20*%20from%20%60swdata%60%20limit%201";
    
    $.ajax({
        url: query,
        dataType: 'json',
        success: function(data){ add_options(data); }
    });
};

function write(data, field) {
    for(var i = 0; i < data.length; i ++)
        document.write(data[i][field] + "<br>");
}

function myFunction(field) {

    var query="https://api.scraperwiki.com/api/1.0/datastore/sqlite?format=jsondict&name=scioperi_it&query=select%20distinct%20`" + field + "`%20from%20%60swdata%60";
    alert(query);

    $.ajax({           
        url: query,
        dataType: 'json',
        success: function(data){ write(data, field); }
    });
}
</script>
</head>
<body>

Field Name: <select name="fields" id="fields"></select>

<input type="button" onclick="myFunction(document.getElementById('fields').value)" value="Calculate" />

</body>
</html>