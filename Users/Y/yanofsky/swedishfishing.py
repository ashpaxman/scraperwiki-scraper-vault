import scraperwiki
from scraperwiki import scrape
from scraperwiki.sqlite import save
from lxml.html import fromstring,tostring
# Blank Python

BASEURL = "http://www.sweden.gov.se/"

urls = ["/sb/d/5616/l/en/pd/5616/e/3685",
"/sb/d/5616/l/en/pd/5616/e/3684",
"/sb/d/5616/l/en/pd/5616/e/3683",
"/sb/d/5616/l/en/pd/5616/e/3681",
"/sb/d/5616/l/en/pd/5616/e/3680",
"/sb/d/5616/l/en/pd/5616/e/3679",
"/sb/d/5616/l/en/pd/5616/e/3678",
"/sb/d/5616/l/en/pd/5616/e/3677",
"/sb/d/5616/l/en/pd/5616/e/3676",
"/sb/d/5616/l/en/pd/5616/e/3675",
"http://www.swedenabroad.com/Start____14586.aspx",
"/sb/d/5616/l/en/pd/5616/e/3674",
"/sb/d/5616/l/en/pd/5616/e/3673",
"/sb/d/5616/l/en/pd/5616/e/3672",
"/sb/d/5616/l/en/pd/5616/e/3671",
"/sb/d/5616/l/en/pd/5616/e/3670",
"http://www.swedenabroad.com/Start____66284.aspx",
"/sb/d/5616/l/en/pd/5616/e/3669",
"/sb/d/5616/l/en/pd/5616/e/3668",
"/sb/d/5616/l/en/pd/5616/e/3667",
"/sb/d/5616/l/en/pd/5616/e/3664",
"/sb/d/5616/l/en/pd/5616/e/3663",
"/sb/d/5616/l/en/pd/5616/e/3662",
"/sb/d/5616/l/en/pd/5616/e/3661",
"/sb/d/5616/l/en/pd/5616/e/3660",
"/sb/d/5616/l/en/pd/5616/e/3659",
"/sb/d/5616/l/en/pd/5616/e/3658",
"/sb/d/5616/l/en/pd/5616/e/3657",
"/sb/d/5616/l/en/pd/5616/e/3655",
"/sb/d/5616/l/en/pd/5616/e/3602",
"/sb/d/5616/l/en/pd/5616/e/3601",
"http://www.swedenabroad.com/Start____8264.aspx",
"/sb/d/5616/l/en/pd/5616/e/3599",
"/sb/d/5616/l/en/pd/5616/e/3654",
"/sb/d/5616/l/en/pd/5616/e/3510",
"/sb/d/5616/l/en/pd/5616/e/3653",
"http://www.swedenabroad.com/Start____20709.aspx",
"/sb/d/5616/l/en/pd/5616/e/3652",
"/sb/d/5616/l/en/pd/5616/e/3651",
"http://www.swedenabroad.com/Start____25283.aspx",
"/sb/d/5616/l/en/pd/5616/e/3594",
"/sb/d/5616/l/en/pd/5616/e/3650",
"/sb/d/5616/l/en/pd/5616/e/3638",
"http://www.swedenabroad.com/Start____6761.aspx",
"http://www.swedenabroad.com/Start____15933.aspx",
"/sb/d/5616/l/en/pd/5616/e/15493",
"/sb/d/5616/l/en/pd/5616/e/3649",
"http://www.swedenabroad.com/Start____14985.aspx",
"/sb/d/5616/l/en/pd/5616/e/3648",
"/sb/d/5616/l/en/pd/5616/e/3542",
"/sb/d/5616/l/en/pd/5616/e/3644",
"/sb/d/5616/l/en/pd/5616/e/3643",
"http://www.swedenabroad.com/Start____16613.aspx",
"/sb/d/5616/l/en/pd/5616/e/3642",
"/sb/d/5616/l/en/pd/5616/e/3641",
"/sb/d/5616/l/en/pd/5616/e/3639",
"/sb/d/5616/l/en/pd/5616/e/3640",
"/sb/d/5616/l/en/pd/5616/e/3637",
"/sb/d/5616/l/en/pd/5616/e/3636",
"/sb/d/5616/l/en/pd/5616/e/3635",
"/sb/d/5616/l/en/pd/5616/e/3634",
"/sb/d/5616/l/en/pd/5616/e/3632",
"/sb/d/5616/l/en/pd/5616/e/3631",
"/sb/d/5616/l/en/pd/5616/e/3628",
"/sb/d/5616/l/en/pd/5616/e/3627",
"/sb/d/5616/l/en/pd/5616/e/3626",
"http://www.swedenabroad.com/Start____15445.aspx",
"/sb/d/5616/l/en/pd/5616/e/3625",
"/sb/d/5616/l/en/pd/5616/e/3838",
"/sb/d/5616/l/en/pd/5616/e/3624",
"/sb/d/5616/l/en/pd/5616/e/3623",
"/sb/d/5616/l/en/pd/5616/e/3622",
"/sb/d/5616/l/en/pd/5616/e/3621",
"/sb/d/5616/l/en/pd/5616/e/3620",
"/sb/d/5616/l/en/pd/5616/e/3619",
"/sb/d/5616/l/en/pd/5616/e/3618",
"/sb/d/5616/l/en/pd/5616/e/3617",
"/sb/d/5616/l/en/pd/5616/e/3616",
"http://www.swedenabroad.com/Start____15574.aspx",
"/sb/d/5616/l/en/pd/5616/e/3610",
"http://www.swedenabroad.com/Start____21538.aspx",
"/sb/d/5616/l/en/pd/5616/e/3614",
"/sb/d/5616/l/en/pd/5616/e/3612",
"/sb/d/5616/l/en/pd/5616/e/3613",
"/sb/d/5616/l/en/pd/5616/e/3611",
"/sb/d/5616/l/en/pd/5616/e/3609",
"/sb/d/5616/l/en/pd/5616/e/3608",
"/sb/d/5616/l/en/pd/5616/e/3607",
"/sb/d/5616/l/en/pd/5616/e/3606",
"/sb/d/5616/l/en/pd/5616/e/3604",
"/sb/d/5616/l/en/pd/5616/e/3603",
"http://www.swedenabroad.com/Start____115106.aspx",
"http://www.swedenabroad.com/Start____7818.aspx",
"http://www.swedenabroad.com/Start____113946.aspx",
"http://www.swedenabroad.com/Start____18493.aspx",
"http://www.swedenabroad.com/Start____111325.aspx",
"http://www.swedenabroad.com/Start____25007.aspx",
"http://www.swedenabroad.com/Start____115106.aspx",
"http://www.swedenabroad.com/Start____4870.aspx",
"http://www.swedenabroad.com/Start____17664.aspx",
"http://www.swedenabroad.com/Start____37117.aspx",
"/sb/d/5616/l/en/pd/5616/e/3589",
"http://www.swedenabroad.com/Start____115945.aspx",
"http://www.swedenabroad.com/Start____122364.aspx",
"/sb/d/5616/l/en/pd/5616/e/3584",
"http://www.swedenabroad.com/Start____17415.aspx",
"http://swedenabroad.com/Start____6023.aspx",
"http://www.swedenabroad.com/Start____48994.aspx",
"http://www.swedenabroad.com/Start____10814.aspx",
"http://www.swedenabroad.com/Page____34546.aspx",
"http://www.swedenabroad.com/Start____16402.aspx",
"http://www.swedenabroad.com/Start____21538.aspx",
"http://www.swedenabroad.com/Start____111996.aspx",
"http://www.swedenabroad.com/Start____119225.aspx",
"/sb/d/5616/l/en/pd/5616/e/3573",
"http://www.swedenabroad.com/Start____111996.aspx",
"http://www.swedenabroad.com/Page____34547.aspx",
"http://www.swedenabroad.com/Start____23595.aspx",
"/sb/d/5616/l/en/pd/5616/e/3569",
"http://www.swedenabroad.com/Start____110692.aspx",
"/sb/d/5616/l/en/pd/5616/e/3566",
"/sb/d/5616/l/en/pd/5616/e/3565",
"http://www.swedenabroad.com/Start____9737.aspx",
"http://www.swedenabroad.com/Start____14237.aspx",
"http://www.swedenabroad.com/Start____8953.aspx",
"http://www.swedenabroad.com/Start____4870.aspx",
"http://www.swedenabroad.com/Start____25682.aspx",
"http://www.swedenabroad.com/Start____21538.aspx",
"/sb/d/5616/l/en/pd/5616/e/3561",
"/sb/d/5616/l/en/pd/5616/e/3560",
"http://www.swedenabroad.com/Start____21412.aspx",
"http://www.swedenabroad.com/Start____23785.aspx",
"http://www.swedenabroad.com/Start____111996.aspx",
"http://www.swedenabroad.com/Start____29423.aspx",
"http://www.swedenabroad.com/Start____10561.aspx",
"http://www.swedenabroad.com/Start____25007.aspx",
"http://www.swedenabroad.com/Start____29187.aspx",
"/sb/d/5616/l/en/pd/5616/e/3550",
"/sb/d/5616/l/en/pd/5616/e/3549",
"http://www.swedenabroad.com/Start____21412.aspx",
"http://www.swedenabroad.com/Start____8033.aspx",
"http://www.swedenabroad.com/Start____24670.aspx",
"/sb/d/5616/l/en/pd/5616/e/3633",
"http://www.swedenabroad.com/Start____23148.aspx",
"http://www.swedenabroad.com/Start____6085.aspx",
"http://www.swedenabroad.com/Start____12124.aspx",
"http://www.swedenabroad.com/Start____23983.aspx",
"http://www.swedenabroad.com/Start____28458.aspx",
"http://www.swedenabroad.com/Start____112237.aspx",
"http://www.swedenabroad.com/Start____115276.aspx",
"http://www.swedenabroad.com/Start____115276.aspx",
"http://www.swedenabroad.com/Start____115276.aspx",
"http://www.swedenabroad.com/Start____21412.aspx",
"/sb/d/5616/l/en/pd/5616/e/3532",
"/sb/d/5616/l/en/pd/5616/e/3531",
"http://www.swedenabroad.com/Start____25007.aspx",
"http://www.swedenabroad.com/Start____122364.aspx",
"http://www.swedenabroad.com/Start____9737.aspx",
"/sb/d/5616/l/en/pd/5616/e/3527",
"http://www.swedenabroad.com/Start____122364.aspx",
"http://www.swedenabroad.com/Start____7410.aspx",
"http://www.swedenabroad.com/Start____14586.aspx",
"http://www.swedenabroad.com/Start____14586.aspx",
"http://www.swedenabroad.com/Start____21412.aspx",
"http://www.swedenabroad.com/Start____7818.aspx",
"http://www.swedenabroad.com/Start____25682.aspx",
"http://www.swedenabroad.com/Start____9935.aspx",
"http://www.swedenabroad.com/Start____21538.aspx",
"http://www.swedenabroad.com/Start____82001.aspx",
"/sb/d/5616/l/en/pd/5616/e/3516",
"/sb/d/5616/l/en/pd/5616/e/3515",
"http://www.swedenabroad.com/Start____12450.aspx",
"http://www.swedenabroad.com/Start____37117.aspx",
"http://www.swedenabroad.com/Start____115106.aspx",
"http://www.swedenabroad.com/Start____10814.aspx",
"http://www.swedenabroad.com/Start____4870.aspx",
"http://www.swedenabroad.com/Start____29423.aspx",
"http://www.swedenabroad.com/Start____21412.aspx",
"http://www.swedenabroad.com/Start____115276.aspx",
"http://www.swedenabroad.com/Start____122364.aspx",
"http://www.swedenabroad.com/Start____6209.aspx",
"http://www.swedenabroad.com/Start____115106.aspx",
"http://www.swedenabroad.com/Start____29536.aspx",
"http://www.swedenabroad.com/Start____37496.aspx",
"/sb/d/5616/l/en/pd/5616/e/3629",
"http://www.swedenabroad.com/Start____20358.aspx",
"/sb/d/5616/l/en/pd/5616/e/3682",
"http://www.swedenabroad.com/Start____8033.aspx",
"http://www.swedenabroad.com/Start____115106.aspx",
"http://www.swedenabroad.com/Page____89398.aspx",
"http://www.swedenabroad.com/Start____6705.aspx",
"http://www.swedenabroad.com/Start____9104.aspx",
"/sb/d/5616/l/en/pd/5616/e/3605",
"http://www.swedenabroad.com/Start____11733.aspx",
"http://www.swedenabroad.com/Start____29302.aspx",
]



isEmbassy = ""
country = ""

for url in urls:
    if "sweedenabroad" not in url:
        raw = scrape(BASEURL + url)
        parsed = fromstring(raw)
        try:
            country = parsed.cssselect("h1")[0].text_content()
            try:
                typeLine = parsed.cssselect("h2.first")[0].text_content()
                if "Embassy of" in typeLine:
                    isEmbassy = "Embassy"
                else:
                    isEmbassy = "not Embassy"
            except IndexError:
                isEmbassy = "not Embassy"
        except IndexError:
            title = raw.split("<title>")[1].split("</title>")[0]
            country = title.split(" - ")[0]
            isEmbassy = "Maybe, " + url
        
        print " ".join(country.split(","))+","+isEmbassy

